var bo=Object.defineProperty,lh=Object.defineProperties;var uh=Object.getOwnPropertyDescriptors;var So=Object.getOwnPropertySymbols;var ch=Object.prototype.hasOwnProperty,dh=Object.prototype.propertyIsEnumerable;var Po=(ye,J,ee)=>J in ye?bo(ye,J,{enumerable:!0,configurable:!0,writable:!0,value:ee}):ye[J]=ee,p=(ye,J)=>{for(var ee in J||(J={}))ch.call(J,ee)&&Po(ye,ee,J[ee]);if(So)for(var ee of So(J))dh.call(J,ee)&&Po(ye,ee,J[ee]);return ye},R=(ye,J)=>lh(ye,uh(J)),a=(ye,J)=>bo(ye,"name",{value:J,configurable:!0});var lt=(ye,J,ee)=>new Promise((wr,te)=>{var Xt=j=>{try{T(ee.next(j))}catch(se){te(se)}},M=j=>{try{T(ee.throw(j))}catch(se){te(se)}},T=j=>j.done?wr(j.value):Promise.resolve(j.value).then(Xt,M);T((ee=ee.apply(ye,J)).next())});a(function(J,ee){typeof exports=="object"&&typeof module=="object"?module.exports=ee(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],ee):typeof exports=="object"?exports.rn=ee(require("react"),require("react-dom")):J.rn=ee(J.React,J.ReactDOM)},"webpackUniversalModuleDefinition")(self,function(ye,J){return function(){var ee={944:function(M){var T=1e3,j=T*60,se=j*60,ce=se*24,Ce=ce*7,v=ce*365.25;M.exports=function(x,O){O=O||{};var U=typeof x;if(U==="string"&&x.length>0)return we(x);if(U==="number"&&isFinite(x))return O.long?B(x):K(x);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(x))};function we(x){if(x=String(x),!(x.length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(O){var U=parseFloat(O[1]),S=(O[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return U*v;case"weeks":case"week":case"w":return U*Ce;case"days":case"day":case"d":return U*ce;case"hours":case"hour":case"hrs":case"hr":case"h":return U*se;case"minutes":case"minute":case"mins":case"min":case"m":return U*j;case"seconds":case"second":case"secs":case"sec":case"s":return U*T;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return U;default:return}}}}a(we,"parse");function K(x){var O=Math.abs(x);return O>=ce?Math.round(x/ce)+"d":O>=se?Math.round(x/se)+"h":O>=j?Math.round(x/j)+"m":O>=T?Math.round(x/T)+"s":x+"ms"}a(K,"fmtShort");function B(x){var O=Math.abs(x);return O>=ce?z(x,O,ce,"day"):O>=se?z(x,O,se,"hour"):O>=j?z(x,O,j,"minute"):O>=T?z(x,O,T,"second"):x+" ms"}a(B,"fmtLong");function z(x,O,U,S){var L=O>=U*1.5;return Math.round(x/U)+" "+S+(L?"s":"")}a(z,"plural")},854:function(M,T,j){T.formatArgs=ce,T.save=Ce,T.load=v,T.useColors=se,T.storage=we(),T.destroy=(()=>{let B=!1;return()=>{B||(B=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),T.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function se(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}a(se,"useColors");function ce(B){if(B[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+B[0]+(this.useColors?"%c ":" ")+"+"+M.exports.humanize(this.diff),!this.useColors)return;const z="color: "+this.color;B.splice(1,0,z,"color: inherit");let x=0,O=0;B[0].replace(/%[a-zA-Z%]/g,U=>{U!=="%%"&&(x++,U==="%c"&&(O=x))}),B.splice(O,0,z)}a(ce,"formatArgs"),T.log=console.debug||console.log||(()=>{});function Ce(B){try{B?T.storage.setItem("debug",B):T.storage.removeItem("debug")}catch(z){}}a(Ce,"save");function v(){let B;try{B=T.storage.getItem("debug")}catch(z){}return!B&&typeof process!="undefined"&&"env"in process&&(B=process.env.DEBUG),B}a(v,"load");function we(){try{return localStorage}catch(B){}}a(we,"localstorage"),M.exports=j(892)(T);const{formatters:K}=M.exports;K.j=function(B){try{return JSON.stringify(B)}catch(z){return"[UnexpectedJSONParseError]: "+z.message}}},892:function(M,T,j){function se(ce){v.debug=v,v.default=v,v.coerce=O,v.disable=B,v.enable=K,v.enabled=z,v.humanize=j(944),v.destroy=U,Object.keys(ce).forEach(S=>{v[S]=ce[S]}),v.names=[],v.skips=[],v.formatters={};function Ce(S){let L=0;for(let q=0;q<S.length;q++)L=(L<<5)-L+S.charCodeAt(q),L|=0;return v.colors[Math.abs(L)%v.colors.length]}a(Ce,"selectColor"),v.selectColor=Ce;function v(S){let L,q=null,Ue,Kt;function C(...Ee){if(!C.enabled)return;const k=C,ut=Number(new Date),y=ut-(L||ut);k.diff=y,k.prev=L,k.curr=ut,L=ut,Ee[0]=v.coerce(Ee[0]),typeof Ee[0]!="string"&&Ee.unshift("%O");let De=0;Ee[0]=Ee[0].replace(/%([a-zA-Z%])/g,(Qt,Pe)=>{if(Qt==="%%")return"%";De++;const ct=v.formatters[Pe];if(typeof ct=="function"){const Er=Ee[De];Qt=ct.call(k,Er),Ee.splice(De,1),De--}return Qt}),v.formatArgs.call(k,Ee),(k.log||v.log).apply(k,Ee)}return a(C,"debug"),C.namespace=S,C.useColors=v.useColors(),C.color=v.selectColor(S),C.extend=we,C.destroy=v.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>q!==null?q:(Ue!==v.namespaces&&(Ue=v.namespaces,Kt=v.enabled(S)),Kt),set:Ee=>{q=Ee}}),typeof v.init=="function"&&v.init(C),C}a(v,"createDebug");function we(S,L){const q=v(this.namespace+(typeof L=="undefined"?":":L)+S);return q.log=this.log,q}a(we,"extend");function K(S){v.save(S),v.namespaces=S,v.names=[],v.skips=[];let L;const q=(typeof S=="string"?S:"").split(/[\s,]+/),Ue=q.length;for(L=0;L<Ue;L++)q[L]&&(S=q[L].replace(/\*/g,".*?"),S[0]==="-"?v.skips.push(new RegExp("^"+S.slice(1)+"$")):v.names.push(new RegExp("^"+S+"$")))}a(K,"enable");function B(){const S=[...v.names.map(x),...v.skips.map(x).map(L=>"-"+L)].join(",");return v.enable(""),S}a(B,"disable");function z(S){if(S[S.length-1]==="*")return!0;let L,q;for(L=0,q=v.skips.length;L<q;L++)if(v.skips[L].test(S))return!1;for(L=0,q=v.names.length;L<q;L++)if(v.names[L].test(S))return!0;return!1}a(z,"enabled");function x(S){return S.toString().substring(2,S.toString().length-2).replace(/\.\*\?$/,"*")}a(x,"toNamespace");function O(S){return S instanceof Error?S.stack||S.message:S}a(O,"coerce");function U(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a(U,"destroy"),v.enable(v.load()),v}a(se,"setup"),M.exports=se},772:function(M){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var T=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;function ce(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}a(ce,"toObject");function Ce(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var we={},K=0;K<10;K++)we["_"+String.fromCharCode(K)]=K;var B=Object.getOwnPropertyNames(we).map(function(x){return we[x]});if(B.join("")!=="0123456789")return!1;var z={};return"abcdefghijklmnopqrst".split("").forEach(function(x){z[x]=x}),Object.keys(Object.assign({},z)).join("")==="abcdefghijklmnopqrst"}catch(x){return!1}}a(Ce,"shouldUseNative"),M.exports=Ce()?Object.assign:function(v,we){for(var K,B=ce(v),z,x=1;x<arguments.length;x++){K=Object(arguments[x]);for(var O in K)j.call(K,O)&&(B[O]=K[O]);if(T){z=T(K);for(var U=0;U<z.length;U++)se.call(K,z[U])&&(B[z[U]]=K[z[U]])}}return B}},346:function(M,T,j){"use strict";var se;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */j(772);var ce=j(359),Ce=60103;if(se=60107,typeof Symbol=="function"&&Symbol.for){var v=Symbol.for;Ce=v("react.element"),se=v("react.fragment")}var we=ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0};function z(x,O,U){var S,L={},q=null,Ue=null;U!==void 0&&(q=""+U),O.key!==void 0&&(q=""+O.key),O.ref!==void 0&&(Ue=O.ref);for(S in O)K.call(O,S)&&!B.hasOwnProperty(S)&&(L[S]=O[S]);if(x&&x.defaultProps)for(S in O=x.defaultProps,O)L[S]===void 0&&(L[S]=O[S]);return{$$typeof:Ce,type:x,key:q,ref:Ue,props:L,_owner:we.current}}a(z,"q"),T.jsx=z,T.jsxs=z},232:function(M,T,j){"use strict";M.exports=j(346)},359:function(M){"use strict";M.exports=ye},318:function(M){"use strict";M.exports=J}},wr={};function te(M){var T=wr[M];if(T!==void 0)return T.exports;var j=wr[M]={exports:{}};return ee[M](j,j.exports,te),j.exports}a(te,"__webpack_require__"),function(){te.n=function(M){var T=M&&M.__esModule?function(){return M.default}:function(){return M};return te.d(T,{a:T}),T}}(),function(){te.d=function(M,T){for(var j in T)te.o(T,j)&&!te.o(M,j)&&Object.defineProperty(M,j,{enumerable:!0,get:T[j]})}}(),function(){te.o=function(M,T){return Object.prototype.hasOwnProperty.call(M,T)}}(),function(){te.r=function(M){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})}}();var Xt={};return function(){"use strict";te.r(Xt),te.d(Xt,{AppEvents:function(){return C},AppNamespace:function(){return vn},BuiltInPowerupCodes:function(){return Et},Card:function(){return wt},CardNamespace:function(){return tn},CheckboxMatcher:function(){return un},ComponentFocusableItemType:function(){return Ui},DEPRECATED_RICH_TEXT_ELEMENT_TYPES:function(){return qe},DEPRECATED_RICH_TEXT_ELEMENT_TYPES_TO_NEW_FORMATTING:function(){return Hl},DEPRECATED_RICH_TEXT_FORMATTING_TYPES:function(){return Bl},DateMatcher:function(){return or},DateMatcherTypesToDisplayValue:function(){return ql},DateNamespace:function(){return yn},DocumentViewer:function(){return qa},EXAM_SCHEDULER_EXPLANATION_TYPES:function(){return Wl},EditorEvents:function(){return B},EditorNamespace:function(){return wn},EmbedComponentType:function(){return Le},EventNamespace:function(){return xn},FocusEvents:function(){return Kt},FocusNamespace:function(){return Sn},FocusPropsType:function(){return Zi},GetCardInfoNodeCardFields:function(){return ln},GlobalEvent:function(){return we},KnowledgeBaseNamespace:function(){return Pn},LegacySearchPortalSingleSelectQueryExpression:function(){return ls},LoadingSpinnerPlugin:function(){return Ka},MessagingEvents:function(){return U},MessagingNamespace:function(){return bn},MoveUnit:function(){return Gi},MultiSelectMatcher:function(){return fn},MultiSelectMatcherTypesToDisplayValue:function(){return Yl},NonRelativeMatcherTypes:function(){return zl},NumberMatcher:function(){return dn},NumberMatcherTypesToDisplayValue:function(){return Gl},PDFWebReader:function(){return $a},PORTAL_TYPE:function(){return qi},PageType_DUPE_1:function(){return Ki},PluginAccessScopeType:function(){return tt},PluginActionPermissionLevel:function(){return rn},PluginCommandMenuLocation:function(){return zi},PluginRem:function(){return $e},PowerupEvent:function(){return x},PowerupNamespace:function(){return Rn},PowerupSlotCodeMap:function(){return Wt},PreviewRemCards:function(){return Qa},PropertyLocation:function(){return on},PropertyType:function(){return sn},QueryExpressionType:function(){return he},QueryNodeType:function(){return Q},QueryRemType:function(){return ns},Query_DUPE_2:function(){return Ps},Queue:function(){return Xa},QueueEvent:function(){return K},QueueInteractionScore:function(){return $i},QueueItemType:function(){return fs},QueueItemTypeHumanReadable:function(){return hs},QueueItemTypeHumanReadableTextToSpeech:function(){return Ql},QueueNamespace:function(){return Tn},RICH_TEXT_ELEMENT_TYPE:function(){return Vl},RICH_TEXT_FORMATTING:function(){return rt},RNPlugin:function(){return Vn},ReactRNPlugin:function(){return Ur},ReaderNamespace:function(){return On},RegisterPowerupOptions:function(){return Kl},RegisterPropertyOptions:function(){return gn},RelativeDateMatcher:function(){return Or},RelativeDateMatcherToLabel:function(){return Zl},RelativeDateModifier:function(){return hn},RelativeDatePeriod:function(){return pn},RemColor:function(){return Tr},RemEvent:function(){return z},RemHierarchyEditorTree:function(){return Ya},RemNamespace:function(){return Kr},RemRichTextEditor:function(){return Ga},RemType:function(){return nn},RemTypeTinyGraph:function(){return Wi},RemViewer:function(){return za},RichText:function(){return Za},RichTextEditor:function(){return Ua},RichTextNamespace:function(){return Cn},SchedulerExplanationType:function(){return Xi},SchedulerNamespace:function(){return Dn},SearchNamespace:function(){return Nn},SearchPortalCheckboxQueryExpression:function(){return us},SearchPortalDateQueryExpression:function(){return mn},SearchPortalGetCardInfoQueryNode:function(){return ts},SearchPortalGroupQueryNode:function(){return Ji},SearchPortalMultiSelectQueryExpression:function(){return os},SearchPortalNumberQueryExpression:function(){return as},SearchPortalQuery:function(){return lr},SearchPortalQueryExpression:function(){return ds},SearchPortalRefQueryExpression:function(){return rs},SearchPortalRemTypeQueryExpression:function(){return is},SearchPortalSingleSelectQueryExpression:function(){return cs},SearchPortalSlotQueryNode:function(){return es},SearchPortalTextQueryExpression:function(){return ss},SearchPortalUnaryQueryNode:function(){return Qi},SelectSourceType:function(){return an},SelectionType:function(){return Rr},SetRemType:function(){return Hi},SettingEvents:function(){return S},SettingsNamespace:function(){return In},SidebarEvents:function(){return O},SingleSelectMatcher:function(){return Ar},SingleSelectMatcherTypesToDisplayValue:function(){return Xl},SpecialPluginCallback:function(){return Yi},StorageEvents:function(){return L},StorageNamespace:function(){return Mn},TextMatcher:function(){return cn},TextMatcherTypesToDisplayValue:function(){return $l},TextMatchersAllowedWithoutPrimaryQuery:function(){return Ul},WidgetEvents:function(){return q},WidgetLocation:function(){return Bi},WidgetNamespace:function(){return Ln},WindowEvents:function(){return Ue},WindowNamespace:function(){return Fn},createReactiveApi:function(){return wi},declareIndexPlugin:function(){return Rf},filterAsync:function(){return Vf},isAppEvent:function(){return Ee},numberValidatorSig:function(){return jl},parseManifest:function(){return ih},remTypeTinyGraphToNormal:function(){return Ml},remTypeToTinyGraphType:function(){return Il},renderWidget:function(){return no},richTextFormatNameCodeMap:function(){return Vi},stringValidatorSig:function(){return Fl},useAPIEventListener:function(){return vi},useGetRemsByIdsReactive:function(){return If},useLocalStorageState:function(){return Lf},useOnMessageBroadcast:function(){return Tf},usePlugin:function(){return at},useRunAsync:function(){return jf},useSessionStorageState:function(){return Mf},useSyncedStorageState:function(){return Ff},useTrackerPlugin:function(){return qf}});var M={};te.r(M),te.d(M,{VERSION:function(){return Cs},after:function(){return wd},all:function(){return Oa},allKeys:function(){return mr},any:function(){return Aa},assign:function(){return Mr},before:function(){return _a},bind:function(){return va},bindAll:function(){return hd},chain:function(){return fd},chunk:function(){return qd},clone:function(){return Gc},collect:function(){return bt},compact:function(){return Vd},compose:function(){return _d},constant:function(){return Gs},contains:function(){return st},countBy:function(){return kd},create:function(){return qc},debounce:function(){return vd},default:function(){return Gd},defaults:function(){return la},defer:function(){return md},delay:function(){return ya},detect:function(){return ai},difference:function(){return Ma},drop:function(){return jr},each:function(){return it},escape:function(){return ed},every:function(){return Oa},extend:function(){return oa},extendOwn:function(){return Mr},filter:function(){return $t},find:function(){return ai},findIndex:function(){return si},findKey:function(){return wa},findLastIndex:function(){return xa},findWhere:function(){return Sd},first:function(){return ui},flatten:function(){return Bd},foldl:function(){return oi},foldr:function(){return Ta},forEach:function(){return it},functions:function(){return Yn},get:function(){return da},groupBy:function(){return Dd},has:function(){return Xc},head:function(){return ui},identity:function(){return Qn},include:function(){return st},includes:function(){return st},indexBy:function(){return Nd},indexOf:function(){return ba},initial:function(){return Ia},inject:function(){return oi},intersection:function(){return Ud},invert:function(){return aa},invoke:function(){return bd},isArguments:function(){return Zn},isArray:function(){return St},isArrayBuffer:function(){return Us},isBoolean:function(){return Bs},isDataView:function(){return kr},isDate:function(){return Rc},isElement:function(){return bc},isEmpty:function(){return Fc},isEqual:function(){return jc},isError:function(){return Oc},isFinite:function(){return Nc},isFunction:function(){return Se},isMap:function(){return Hc},isMatch:function(){return Js},isNaN:function(){return qs},isNull:function(){return Pc},isNumber:function(){return Hs},isObject:function(){return xt},isRegExp:function(){return Tc},isSet:function(){return Uc},isString:function(){return Hn},isSymbol:function(){return Ws},isTypedArray:function(){return Ks},isUndefined:function(){return Vs},isWeakMap:function(){return Wc},isWeakSet:function(){return Zc},iteratee:function(){return ei},keys:function(){return pe},last:function(){return jd},lastIndexOf:function(){return xd},map:function(){return bt},mapObject:function(){return Kc},matcher:function(){return vr},matches:function(){return vr},max:function(){return Ca},memoize:function(){return pd},methods:function(){return Yn},min:function(){return Td},mixin:function(){return La},negate:function(){return ii},noop:function(){return ha},now:function(){return _r},object:function(){return zd},omit:function(){return Fd},once:function(){return Ed},pairs:function(){return zc},partial:function(){return Lr},partition:function(){return Id},pick:function(){return ka},pluck:function(){return li},property:function(){return Jn},propertyOf:function(){return Qc},random:function(){return ti},range:function(){return $d},reduce:function(){return oi},reduceRight:function(){return Ta},reject:function(){return Pd},rest:function(){return jr},restArguments:function(){return be},result:function(){return ud},sample:function(){return Na},select:function(){return $t},shuffle:function(){return Ad},size:function(){return Md},some:function(){return Aa},sortBy:function(){return Cd},sortedIndex:function(){return Sa},tail:function(){return jr},take:function(){return ui},tap:function(){return Yc},template:function(){return ld},templateSettings:function(){return nd},throttle:function(){return gd},times:function(){return Jc},toArray:function(){return Da},toPath:function(){return ca},transpose:function(){return di},unescape:function(){return rd},union:function(){return Wd},uniq:function(){return ci},unique:function(){return ci},uniqueId:function(){return dd},unzip:function(){return di},values:function(){return zt},where:function(){return Rd},without:function(){return Hd},wrap:function(){return yd},zip:function(){return Zd}});var T=Object.defineProperty,j=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,Ce=a((e,t,r)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),v=a((e,t)=>{for(var r in t||(t={}))se.call(t,r)&&Ce(e,r,t[r]);if(j)for(var r of j(t))ce.call(t,r)&&Ce(e,r,t[r]);return e},"__spreadValues");const we={GlobalOpenRem:"global.open-rem",URLChange:"global.url-change"},K={QueueLoadCard:"queue.load-card",QueueCompleteCard:"queue.complete-card",QueueEnter:"queue.enter",QueueExit:"queue.exit",RevealAnswer:"queue.reveal-answer"},B={EditorSelectionChanged:"editor.selection-changed",EditorTextEdited:"editor.text-edited"},z={RemChanged:"rem.changed",GlobalRemChanged:"global.rem.changed"},x={PowerupSlotChanged:"powerup.slot.changed",ClickRemReference:"powerup.click-rem-reference",MouseOverLink:"powerup.mouse-enter-link",MouseOutLink:"powerup.mouse-out-link",SetTodoStatus:"powerup.todo.set-status"},O={ClickSidebarItem:"sidebar.click-item"},U={MessageBroadcast:"messaging.broadcast"},S={SettingChanged:"setting.changed"},L={StorageSessionChange:"storage.session.changed",StorageSyncedChange:"storage.synced.changed",StorageLocalChange:"storage.local.changed"},q={FakeEmbedComponentDimensionChange:"widget.virtual-embed-dimension-change",FakeEmbedDOMEvent:"widget.virtual-embed-dom-event",StealKeyEvent:"widget.steal-key-event"},Ue={FocusedPaneChange:"window.focusedPane.changed",CurrentWindowTreeChange:"window.PaneIdWindowTree.changed"},Kt={FocusedRemChange:"window.focusedRem.changed",FocusedPortalChange:"window.focusedPortal.changed"},C=v(v(v(v(v(v(v(v(v(v(v(v({onActivate:"onActivate",onDeactivate:"onDeactivate",setDarkMode:"setDarkMode",setCustomCSS:"setCustomCSS"},Ue),U),O),x),z),we),K),L),q),B),S),Kt);function Ee(e){return Object.values(C).includes(e)}a(Ee,"isAppEvent");var k;(function(e){e.assertEqual=i=>i;function t(i){}a(t,"assertIs"),e.assertIs=t;function r(i){throw new Error}a(r,"assertNever"),e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}a(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(k||(k={}));var ut;(function(e){e.mergeShapes=(t,r)=>p(p({},t),r)})(ut||(ut={}));const y=k.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),De=a(e=>{switch(typeof e){case"undefined":return y.undefined;case"string":return y.string;case"number":return isNaN(e)?y.nan:y.number;case"boolean":return y.boolean;case"function":return y.function;case"bigint":return y.bigint;case"symbol":return y.symbol;case"object":return Array.isArray(e)?y.array:e===null?y.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?y.promise:typeof Map!="undefined"&&e instanceof Map?y.map:typeof Set!="undefined"&&e instanceof Set?y.set:typeof Date!="undefined"&&e instanceof Date?y.date:y.object;default:return y.unknown}},"getParsedType"),m=k.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Qt=a(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson");class Pe extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=a(s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(o))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}},"processError");return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,k.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}a(Pe,"ZodError"),Pe.create=e=>new Pe(e);const ct=a((e,t)=>{let r;switch(e.code){case m.invalid_type:e.received===y.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case m.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,k.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:r=`Unrecognized key(s) in object: ${k.joinValues(e.keys,", ")}`;break;case m.invalid_union:r="Invalid input";break;case m.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${k.joinValues(e.options)}`;break;case m.invalid_enum_value:r=`Invalid enum value. Expected ${k.joinValues(e.options)}, received '${e.received}'`;break;case m.invalid_arguments:r="Invalid function arguments";break;case m.invalid_return_type:r="Invalid function return type";break;case m.invalid_date:r="Invalid date";break;case m.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:k.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case m.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case m.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case m.custom:r="Invalid input";break;case m.invalid_intersection_types:r="Intersection results could not be merged";break;case m.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case m.not_finite:r="Number must be finite";break;default:r=t.defaultError,k.assertNever(e)}return{message:r}},"errorMap");let Er=ct;function Ro(e){Er=e}a(Ro,"setErrorMap");function xr(){return Er}a(xr,"getErrorMap");const Sr=a(e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o=R(p({},i),{path:s});let l="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)l=c(o,{data:t,defaultError:l}).message;return R(p({},i),{path:s,message:i.message||l})},"makeIssue"),To=[];function _(e,t){const r=Sr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,xr(),ct].filter(n=>!!n)});e.common.issues.push(r)}a(_,"addIssueToContext");class me{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return A;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static mergeObjectAsync(t,r){return lt(this,null,function*(){const n=[];for(const i of r)n.push({key:yield i.key,value:yield i.value});return me.mergeObjectSync(t,n)})}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return A;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}a(me,"ParseStatus");const A=Object.freeze({status:"aborted"}),Si=a(e=>({status:"dirty",value:e}),"DIRTY"),xe=a(e=>({status:"valid",value:e}),"OK"),$r=a(e=>e.status==="aborted","isAborted"),qr=a(e=>e.status==="dirty","isDirty"),Jt=a(e=>e.status==="valid","isValid"),Pr=a(e=>typeof Promise!="undefined"&&e instanceof Promise,"isAsync");var E;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(E||(E={}));class Be{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}a(Be,"ParseInputLazyPath");const Pi=a((e,t)=>{if(Jt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Pe(e.common.issues);return this._error=r,this._error}}},"handleResult");function D(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:a((o,l)=>o.code!=="invalid_type"?{message:l.defaultError}:typeof l.data=="undefined"?{message:n!=null?n:l.defaultError}:{message:r!=null?r:l.defaultError},"customMap"),description:i}}a(D,"processCreateParams");class N{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return De(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:De(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new me,ctx:{common:t.parent.common,data:t.data,parsedType:De(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Pr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:De(t)},s=this._parseSync({data:t,path:i.path,parent:i});return Pi(i,s)}parseAsync(t,r){return lt(this,null,function*(){const n=yield this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error})}safeParseAsync(t,r){return lt(this,null,function*(){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:De(t)},i=this._parse({data:t,path:n.path,parent:n}),s=yield Pr(i)?i:Promise.resolve(i);return Pi(n,s)})}refine(t,r){const n=a(i=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(i):r,"getIssueProperties");return this._refinement((i,s)=>{const o=t(i),l=a(()=>s.addIssue(p({code:m.custom},n(i))),"setError");return typeof Promise!="undefined"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Me({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ze.create(this,this._def)}nullable(){return pt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ie.create(this,this._def)}promise(){return _t.create(this,this._def)}or(t){return It.create([this,t],this._def)}and(t){return Mt.create(this,t,this._def)}transform(t){return new Me(R(p({},D(this._def)),{schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){const r=typeof t=="function"?t:()=>t;return new Bt(R(p({},D(this._def)),{innerType:this,defaultValue:r,typeName:b.ZodDefault}))}brand(){return new Yr(p({typeName:b.ZodBranded,type:this},D(this._def)))}catch(t){const r=typeof t=="function"?t:()=>t;return new ir(R(p({},D(this._def)),{innerType:this,catchValue:r,typeName:b.ZodCatch}))}describe(t){const r=this.constructor;return new r(R(p({},this._def),{description:t}))}pipe(t){return Ht.create(this,t)}readonly(){return ar.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}a(N,"ZodType");const Oo=/^c[^\s-]{8,}$/i,Ao=/^[a-z][a-z0-9]*$/,Co=/[0-9A-HJKMNP-TV-Z]{26}/,Do=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,No=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ko=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),Io=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Mo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Lo=a(e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"),"datetimeRegex");function Fo(e,t){return!!((t==="v4"||!t)&&Io.test(e)||(t==="v6"||!t)&&Mo.test(e))}a(Fo,"isValidIP");class ke extends N{constructor(){super(...arguments),this._regex=(t,r,n)=>this.refinement(i=>t.test(i),p({validation:r,code:m.invalid_string},E.errToObj(n))),this.nonempty=t=>this.min(1,E.errToObj(t)),this.trim=()=>new ke(R(p({},this._def),{checks:[...this._def.checks,{kind:"trim"}]})),this.toLowerCase=()=>new ke(R(p({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]})),this.toUpperCase=()=>new ke(R(p({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==y.string){const s=this._getOrReturnCtx(t);return _(s,{code:m.invalid_type,expected:y.string,received:s.parsedType}),A}const n=new me;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:m.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:m.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?_(i,{code:m.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&_(i,{code:m.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")No.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"email",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")ko.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"emoji",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Do.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"uuid",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Oo.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"cuid",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Ao.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"cuid2",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Co.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"ulid",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch(o){i=this._getOrReturnCtx(t,i),_(i,{validation:"url",code:m.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"regex",code:m.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),_(i,{code:m.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),_(i,{code:m.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),_(i,{code:m.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Lo(s).test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{code:m.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Fo(t.data,s.version)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"ip",code:m.invalid_string,message:s.message}),n.dirty()):k.assertNever(s);return{status:n.value,value:t.data}}_addCheck(t){return new ke(R(p({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(p({kind:"email"},E.errToObj(t)))}url(t){return this._addCheck(p({kind:"url"},E.errToObj(t)))}emoji(t){return this._addCheck(p({kind:"emoji"},E.errToObj(t)))}uuid(t){return this._addCheck(p({kind:"uuid"},E.errToObj(t)))}cuid(t){return this._addCheck(p({kind:"cuid"},E.errToObj(t)))}cuid2(t){return this._addCheck(p({kind:"cuid2"},E.errToObj(t)))}ulid(t){return this._addCheck(p({kind:"ulid"},E.errToObj(t)))}ip(t){return this._addCheck(p({kind:"ip"},E.errToObj(t)))}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck(p({kind:"datetime",precision:typeof(t==null?void 0:t.precision)=="undefined"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1},E.errToObj(t==null?void 0:t.message)))}regex(t,r){return this._addCheck(p({kind:"regex",regex:t},E.errToObj(r)))}includes(t,r){return this._addCheck(p({kind:"includes",value:t,position:r==null?void 0:r.position},E.errToObj(r==null?void 0:r.message)))}startsWith(t,r){return this._addCheck(p({kind:"startsWith",value:t},E.errToObj(r)))}endsWith(t,r){return this._addCheck(p({kind:"endsWith",value:t},E.errToObj(r)))}min(t,r){return this._addCheck(p({kind:"min",value:t},E.errToObj(r)))}max(t,r){return this._addCheck(p({kind:"max",value:t},E.errToObj(r)))}length(t,r){return this._addCheck(p({kind:"length",value:t},E.errToObj(r)))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}a(ke,"ZodString"),ke.create=e=>{var t;return new ke(p({checks:[],typeName:b.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1},D(e)))};function jo(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}a(jo,"floatSafeRemainder");class Ke extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==y.number){const s=this._getOrReturnCtx(t);return _(s,{code:m.invalid_type,expected:y.number,received:s.parsedType}),A}let n;const i=new me;for(const s of this._def.checks)s.kind==="int"?k.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_(n,{code:m.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),_(n,{code:m.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),_(n,{code:m.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?jo(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),_(n,{code:m.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),_(n,{code:m.not_finite,message:s.message}),i.dirty()):k.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,E.toString(r))}gt(t,r){return this.setLimit("min",t,!1,E.toString(r))}lte(t,r){return this.setLimit("max",t,!0,E.toString(r))}lt(t,r){return this.setLimit("max",t,!1,E.toString(r))}setLimit(t,r,n,i){return new Ke(R(p({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:E.toString(i)}]}))}_addCheck(t){return new Ke(R(p({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:E.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:E.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:E.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:E.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:E.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:E.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:E.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:E.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:E.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&k.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}a(Ke,"ZodNumber"),Ke.create=e=>new Ke(p({checks:[],typeName:b.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},D(e)));class Qe extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==y.bigint){const s=this._getOrReturnCtx(t);return _(s,{code:m.invalid_type,expected:y.bigint,received:s.parsedType}),A}let n;const i=new me;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),_(n,{code:m.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),_(n,{code:m.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),_(n,{code:m.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):k.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,E.toString(r))}gt(t,r){return this.setLimit("min",t,!1,E.toString(r))}lte(t,r){return this.setLimit("max",t,!0,E.toString(r))}lt(t,r){return this.setLimit("max",t,!1,E.toString(r))}setLimit(t,r,n,i){return new Qe(R(p({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:E.toString(i)}]}))}_addCheck(t){return new Qe(R(p({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:E.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:E.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:E.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:E.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:E.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}a(Qe,"ZodBigInt"),Qe.create=e=>{var t;return new Qe(p({checks:[],typeName:b.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1},D(e)))};class Ct extends N{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==y.boolean){const n=this._getOrReturnCtx(t);return _(n,{code:m.invalid_type,expected:y.boolean,received:n.parsedType}),A}return xe(t.data)}}a(Ct,"ZodBoolean"),Ct.create=e=>new Ct(p({typeName:b.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},D(e)));class dt extends N{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==y.date){const s=this._getOrReturnCtx(t);return _(s,{code:m.invalid_type,expected:y.date,received:s.parsedType}),A}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return _(s,{code:m.invalid_date}),A}const n=new me;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:m.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:m.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):k.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dt(R(p({},this._def),{checks:[...this._def.checks,t]}))}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:E.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:E.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}a(dt,"ZodDate"),dt.create=e=>new dt(p({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:b.ZodDate},D(e)));class er extends N{_parse(t){if(this._getType(t)!==y.symbol){const n=this._getOrReturnCtx(t);return _(n,{code:m.invalid_type,expected:y.symbol,received:n.parsedType}),A}return xe(t.data)}}a(er,"ZodSymbol"),er.create=e=>new er(p({typeName:b.ZodSymbol},D(e)));class Dt extends N{_parse(t){if(this._getType(t)!==y.undefined){const n=this._getOrReturnCtx(t);return _(n,{code:m.invalid_type,expected:y.undefined,received:n.parsedType}),A}return xe(t.data)}}a(Dt,"ZodUndefined"),Dt.create=e=>new Dt(p({typeName:b.ZodUndefined},D(e)));class Nt extends N{_parse(t){if(this._getType(t)!==y.null){const n=this._getOrReturnCtx(t);return _(n,{code:m.invalid_type,expected:y.null,received:n.parsedType}),A}return xe(t.data)}}a(Nt,"ZodNull"),Nt.create=e=>new Nt(p({typeName:b.ZodNull},D(e)));class vt extends N{constructor(){super(...arguments),this._any=!0}_parse(t){return xe(t.data)}}a(vt,"ZodAny"),vt.create=e=>new vt(p({typeName:b.ZodAny},D(e)));class ft extends N{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xe(t.data)}}a(ft,"ZodUnknown"),ft.create=e=>new ft(p({typeName:b.ZodUnknown},D(e)));class Ze extends N{_parse(t){const r=this._getOrReturnCtx(t);return _(r,{code:m.invalid_type,expected:y.never,received:r.parsedType}),A}}a(Ze,"ZodNever"),Ze.create=e=>new Ze(p({typeName:b.ZodNever},D(e)));class tr extends N{_parse(t){if(this._getType(t)!==y.undefined){const n=this._getOrReturnCtx(t);return _(n,{code:m.invalid_type,expected:y.void,received:n.parsedType}),A}return xe(t.data)}}a(tr,"ZodVoid"),tr.create=e=>new tr(p({typeName:b.ZodVoid},D(e)));class Ie extends N{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==y.array)return _(r,{code:m.invalid_type,expected:y.array,received:r.parsedType}),A;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(_(r,{code:o?m.too_big:m.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(_(r,{code:m.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(_(r,{code:m.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Be(r,o,r.path,l)))).then(o=>me.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new Be(r,o,r.path,l)));return me.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Ie(R(p({},this._def),{minLength:{value:t,message:E.toString(r)}}))}max(t,r){return new Ie(R(p({},this._def),{maxLength:{value:t,message:E.toString(r)}}))}length(t,r){return new Ie(R(p({},this._def),{exactLength:{value:t,message:E.toString(r)}}))}nonempty(t){return this.min(1,t)}}a(Ie,"ZodArray"),Ie.create=(e,t)=>new Ie(p({type:e,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray},D(t)));function kt(e){if(e instanceof G){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ze.create(kt(n))}return new G(R(p({},e._def),{shape:()=>t}))}else return e instanceof Ie?new Ie(R(p({},e._def),{type:kt(e.element)})):e instanceof ze?ze.create(kt(e.unwrap())):e instanceof pt?pt.create(kt(e.unwrap())):e instanceof He?He.create(e.items.map(t=>kt(t))):e}a(kt,"deepPartialify");class G extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=k.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==y.object){const c=this._getOrReturnCtx(t);return _(c,{code:m.invalid_type,expected:y.object,received:c.parsedType}),A}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ze&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||l.push(c);const u=[];for(const c of o){const g=s[c],P=i.data[c];u.push({key:{status:"valid",value:c},value:g._parse(new Be(i,P,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ze){const c=this._def.unknownKeys;if(c==="passthrough")for(const g of l)u.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(c==="strict")l.length>0&&(_(i,{code:m.unrecognized_keys,keys:l}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const g of l){const P=i.data[g];u.push({key:{status:"valid",value:g},value:c._parse(new Be(i,P,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(()=>lt(this,null,function*(){const c=[];for(const g of u){const P=yield g.key;c.push({key:P,value:yield g.value,alwaysSet:g.alwaysSet})}return c})).then(c=>me.mergeObjectSync(n,c)):me.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return E.errToObj,new G(p(R(p({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(r,n)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=E.errToObj(t).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}))}strip(){return new G(R(p({},this._def),{unknownKeys:"strip"}))}passthrough(){return new G(R(p({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new G(R(p({},this._def),{shape:()=>p(p({},this._def.shape()),t)}))}merge(t){return new G({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>p(p({},this._def.shape()),t._def.shape()),typeName:b.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new G(R(p({},this._def),{catchall:t}))}pick(t){const r={};return k.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new G(R(p({},this._def),{shape:()=>r}))}omit(t){const r={};return k.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new G(R(p({},this._def),{shape:()=>r}))}deepPartial(){return kt(this)}partial(t){const r={};return k.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new G(R(p({},this._def),{shape:()=>r}))}required(t){const r={};return k.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ze;)s=s._def.innerType;r[n]=s}}),new G(R(p({},this._def),{shape:()=>r}))}keyof(){return bi(k.objectKeys(this.shape))}}a(G,"ZodObject"),G.create=(e,t)=>new G(p({shape:()=>e,unknownKeys:"strip",catchall:Ze.create(),typeName:b.ZodObject},D(t))),G.strictCreate=(e,t)=>new G(p({shape:()=>e,unknownKeys:"strict",catchall:Ze.create(),typeName:b.ZodObject},D(t))),G.lazycreate=(e,t)=>new G(p({shape:e,unknownKeys:"strip",catchall:Ze.create(),typeName:b.ZodObject},D(t)));class It extends N{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Pe(l.ctx.common.issues));return _(r,{code:m.invalid_union,unionErrors:o}),A}if(a(i,"handleResults"),r.common.async)return Promise.all(n.map(s=>lt(this,null,function*(){const o=R(p({},r),{common:R(p({},r.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}}))).then(i);{let s;const o=[];for(const u of n){const c=R(p({},r),{common:R(p({},r.common),{issues:[]}),parent:null}),g=u._parseSync({data:r.data,path:r.path,parent:c});if(g.status==="valid")return g;g.status==="dirty"&&!s&&(s={result:g,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new Pe(u));return _(r,{code:m.invalid_union,unionErrors:l}),A}}get options(){return this._def.options}}a(It,"ZodUnion"),It.create=(e,t)=>new It(p({options:e,typeName:b.ZodUnion},D(t)));const br=a(e=>e instanceof Ft?br(e.schema):e instanceof Me?br(e.innerType()):e instanceof jt?[e.value]:e instanceof Je?e.options:e instanceof Vt?Object.keys(e.enum):e instanceof Bt?br(e._def.innerType):e instanceof Dt?[void 0]:e instanceof Nt?[null]:null,"getDiscriminator");class rr extends N{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==y.object)return _(r,{code:m.invalid_type,expected:y.object,received:r.parsedType}),A;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(_(r,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),A)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=br(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,s)}}return new rr(p({typeName:b.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i},D(n)))}}a(rr,"ZodDiscriminatedUnion");function Gr(e,t){const r=De(e),n=De(t);if(e===t)return{valid:!0,data:e};if(r===y.object&&n===y.object){const i=k.objectKeys(t),s=k.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o=p(p({},e),t);for(const l of s){const u=Gr(e[l],t[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===y.array&&n===y.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],u=Gr(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===y.date&&n===y.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(Gr,"mergeValues");class Mt extends N{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=a((s,o)=>{if($r(s)||$r(o))return A;const l=Gr(s.value,o.value);return l.valid?((qr(s)||qr(o))&&r.dirty(),{status:r.value,value:l.data}):(_(n,{code:m.invalid_intersection_types}),A)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}a(Mt,"ZodIntersection"),Mt.create=(e,t,r)=>new Mt(p({left:e,right:t,typeName:b.ZodIntersection},D(r)));class He extends N{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.array)return _(n,{code:m.invalid_type,expected:y.array,received:n.parsedType}),A;if(n.data.length<this._def.items.length)return _(n,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),A;!this._def.rest&&n.data.length>this._def.items.length&&(_(n,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Be(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>me.mergeArray(r,o)):me.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new He(R(p({},this._def),{rest:t}))}}a(He,"ZodTuple"),He.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new He(p({items:e,typeName:b.ZodTuple,rest:null},D(t)))};class Lt extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.object)return _(n,{code:m.invalid_type,expected:y.object,received:n.parsedType}),A;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Be(n,l,n.path,l)),value:o._parse(new Be(n,n.data[l],n.path,l))});return n.common.async?me.mergeObjectAsync(r,i):me.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof N?new Lt(p({keyType:t,valueType:r,typeName:b.ZodRecord},D(n))):new Lt(p({keyType:ke.create(),valueType:t,typeName:b.ZodRecord},D(r)))}}a(Lt,"ZodRecord");class nr extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.map)return _(n,{code:m.invalid_type,expected:y.map,received:n.parsedType}),A;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,u],c)=>({key:i._parse(new Be(n,l,n.path,[c,"key"])),value:s._parse(new Be(n,u,n.path,[c,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(()=>lt(this,null,function*(){for(const u of o){const c=yield u.key,g=yield u.value;if(c.status==="aborted"||g.status==="aborted")return A;(c.status==="dirty"||g.status==="dirty")&&r.dirty(),l.set(c.value,g.value)}return{status:r.value,value:l}}))}else{const l=new Map;for(const u of o){const c=u.key,g=u.value;if(c.status==="aborted"||g.status==="aborted")return A;(c.status==="dirty"||g.status==="dirty")&&r.dirty(),l.set(c.value,g.value)}return{status:r.value,value:l}}}}a(nr,"ZodMap"),nr.create=(e,t,r)=>new nr(p({valueType:t,keyType:e,typeName:b.ZodMap},D(r)));class ht extends N{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==y.set)return _(n,{code:m.invalid_type,expected:y.set,received:n.parsedType}),A;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(_(n,{code:m.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(_(n,{code:m.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(u){const c=new Set;for(const g of u){if(g.status==="aborted")return A;g.status==="dirty"&&r.dirty(),c.add(g.value)}return{status:r.value,value:c}}a(o,"finalizeSet");const l=[...n.data.values()].map((u,c)=>s._parse(new Be(n,u,n.path,c)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(t,r){return new ht(R(p({},this._def),{minSize:{value:t,message:E.toString(r)}}))}max(t,r){return new ht(R(p({},this._def),{maxSize:{value:t,message:E.toString(r)}}))}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}a(ht,"ZodSet"),ht.create=(e,t)=>new ht(p({valueType:e,minSize:null,maxSize:null,typeName:b.ZodSet},D(t)));class yt extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==y.function)return _(r,{code:m.invalid_type,expected:y.function,received:r.parsedType}),A;function n(l,u){return Sr({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xr(),ct].filter(c=>!!c),issueData:{code:m.invalid_arguments,argumentsError:u}})}a(n,"makeArgsIssue");function i(l,u){return Sr({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xr(),ct].filter(c=>!!c),issueData:{code:m.invalid_return_type,returnTypeError:u}})}a(i,"makeReturnsIssue");const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof _t){const l=this;return xe(function(...u){return lt(this,null,function*(){const c=new Pe([]),g=yield l._def.args.parseAsync(u,s).catch(I=>{throw c.addIssue(n(u,I)),c}),P=yield Reflect.apply(o,this,g);return yield l._def.returns._def.type.parseAsync(P,s).catch(I=>{throw c.addIssue(i(P,I)),c})})})}else{const l=this;return xe(function(...u){const c=l._def.args.safeParse(u,s);if(!c.success)throw new Pe([n(u,c.error)]);const g=Reflect.apply(o,this,c.data),P=l._def.returns.safeParse(g,s);if(!P.success)throw new Pe([i(g,P.error)]);return P.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yt(R(p({},this._def),{args:He.create(t).rest(ft.create())}))}returns(t){return new yt(R(p({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new yt(p({args:t||He.create([]).rest(ft.create()),returns:r||ft.create(),typeName:b.ZodFunction},D(n)))}}a(yt,"ZodFunction");class Ft extends N{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}a(Ft,"ZodLazy"),Ft.create=(e,t)=>new Ft(p({getter:e,typeName:b.ZodLazy},D(t)));class jt extends N{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return _(r,{received:r.data,code:m.invalid_literal,expected:this._def.value}),A}return{status:"valid",value:t.data}}get value(){return this._def.value}}a(jt,"ZodLiteral"),jt.create=(e,t)=>new jt(p({value:e,typeName:b.ZodLiteral},D(t)));function bi(e,t){return new Je(p({values:e,typeName:b.ZodEnum},D(t)))}a(bi,"createZodEnum");class Je extends N{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return _(r,{expected:k.joinValues(n),received:r.parsedType,code:m.invalid_type}),A}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return _(r,{received:r.data,code:m.invalid_enum_value,options:n}),A}return xe(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return Je.create(t)}exclude(t){return Je.create(this.options.filter(r=>!t.includes(r)))}}a(Je,"ZodEnum"),Je.create=bi;class Vt extends N{_parse(t){const r=k.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==y.string&&n.parsedType!==y.number){const i=k.objectValues(r);return _(n,{expected:k.joinValues(i),received:n.parsedType,code:m.invalid_type}),A}if(r.indexOf(t.data)===-1){const i=k.objectValues(r);return _(n,{received:n.data,code:m.invalid_enum_value,options:i}),A}return xe(t.data)}get enum(){return this._def.values}}a(Vt,"ZodNativeEnum"),Vt.create=(e,t)=>new Vt(p({values:e,typeName:b.ZodNativeEnum},D(t)));class _t extends N{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==y.promise&&r.common.async===!1)return _(r,{code:m.invalid_type,expected:y.promise,received:r.parsedType}),A;const n=r.parsedType===y.promise?r.data:Promise.resolve(r.data);return xe(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}a(_t,"ZodPromise"),_t.create=(e,t)=>new _t(p({type:e,typeName:b.ZodPromise},D(t)));class Me extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{_(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a(l=>{const u=i.refinement(l,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?A:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?A:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jt(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Jt(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);k.assertNever(i)}}a(Me,"ZodEffects"),Me.create=(e,t,r)=>new Me(p({schema:e,typeName:b.ZodEffects,effect:t},D(r))),Me.createWithPreprocess=(e,t,r)=>new Me(p({schema:t,effect:{type:"preprocess",transform:e},typeName:b.ZodEffects},D(r)));class ze extends N{_parse(t){return this._getType(t)===y.undefined?xe(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}a(ze,"ZodOptional"),ze.create=(e,t)=>new ze(p({innerType:e,typeName:b.ZodOptional},D(t)));class pt extends N{_parse(t){return this._getType(t)===y.null?xe(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}a(pt,"ZodNullable"),pt.create=(e,t)=>new pt(p({innerType:e,typeName:b.ZodNullable},D(t)));class Bt extends N{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===y.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}a(Bt,"ZodDefault"),Bt.create=(e,t)=>new Bt(p({innerType:e,typeName:b.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},D(t)));class ir extends N{_parse(t){const{ctx:r}=this._processInputParams(t),n=R(p({},r),{common:R(p({},r.common),{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:p({},n)});return Pr(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pe(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}a(ir,"ZodCatch"),ir.create=(e,t)=>new ir(p({innerType:e,typeName:b.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},D(t)));class sr extends N{_parse(t){if(this._getType(t)!==y.nan){const n=this._getOrReturnCtx(t);return _(n,{code:m.invalid_type,expected:y.nan,received:n.parsedType}),A}return{status:"valid",value:t.data}}}a(sr,"ZodNaN"),sr.create=e=>new sr(p({typeName:b.ZodNaN},D(e)));const Vo=Symbol("zod_brand");class Yr extends N{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}a(Yr,"ZodBranded");class Ht extends N{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return a(()=>lt(this,null,function*(){const s=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?A:s.status==="dirty"?(r.dirty(),Si(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})}),"handleAsync")();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?A:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Ht({in:t,out:r,typeName:b.ZodPipeline})}}a(Ht,"ZodPipeline");class ar extends N{_parse(t){const r=this._def.innerType._parse(t);return Jt(r)&&(r.value=Object.freeze(r.value)),r}}a(ar,"ZodReadonly"),ar.create=(e,t)=>new ar(p({innerType:e,typeName:b.ZodReadonly},D(t)));const Ri=a((e,t={},r)=>e?vt.create().superRefine((n,i)=>{var s,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(o=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,c=typeof l=="string"?{message:l}:l;i.addIssue(R(p({code:"custom"},c),{fatal:u}))}}):vt.create(),"custom"),Bo={object:G.lazycreate};var b;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(b||(b={}));const Ho=a((e,t={message:`Input not instance of ${e.name}`})=>Ri(r=>r instanceof e,t),"instanceOfType"),Ti=ke.create,Oi=Ke.create,Wo=sr.create,Uo=Qe.create,Ai=Ct.create,Zo=dt.create,zo=er.create,$o=Dt.create,qo=Nt.create,Go=vt.create,Yo=ft.create,Xo=Ze.create,Ko=tr.create,Qo=Ie.create,Jo=G.create,el=G.strictCreate,tl=It.create,rl=rr.create,nl=Mt.create,il=He.create,sl=Lt.create,al=nr.create,ol=ht.create,ll=yt.create,ul=Ft.create,cl=jt.create,dl=Je.create,fl=Vt.create,hl=_t.create,Ci=Me.create,pl=ze.create,ml=pt.create,gl=Me.createWithPreprocess,vl=Ht.create;var d=Object.freeze({__proto__:null,defaultErrorMap:ct,setErrorMap:Ro,getErrorMap:xr,makeIssue:Sr,EMPTY_PATH:To,addIssueToContext:_,ParseStatus:me,INVALID:A,DIRTY:Si,OK:xe,isAborted:$r,isDirty:qr,isValid:Jt,isAsync:Pr,get util(){return k},get objectUtil(){return ut},ZodParsedType:y,getParsedType:De,ZodType:N,ZodString:ke,ZodNumber:Ke,ZodBigInt:Qe,ZodBoolean:Ct,ZodDate:dt,ZodSymbol:er,ZodUndefined:Dt,ZodNull:Nt,ZodAny:vt,ZodUnknown:ft,ZodNever:Ze,ZodVoid:tr,ZodArray:Ie,ZodObject:G,ZodUnion:It,ZodDiscriminatedUnion:rr,ZodIntersection:Mt,ZodTuple:He,ZodRecord:Lt,ZodMap:nr,ZodSet:ht,ZodFunction:yt,ZodLazy:Ft,ZodLiteral:jt,ZodEnum:Je,ZodNativeEnum:Vt,ZodPromise:_t,ZodEffects:Me,ZodTransformer:Me,ZodOptional:ze,ZodNullable:pt,ZodDefault:Bt,ZodCatch:ir,ZodNaN:sr,BRAND:Vo,ZodBranded:Yr,ZodPipeline:Ht,ZodReadonly:ar,custom:Ri,Schema:N,ZodSchema:N,late:Bo,get ZodFirstPartyTypeKind(){return b},coerce:{string:e=>ke.create(R(p({},e),{coerce:!0})),number:e=>Ke.create(R(p({},e),{coerce:!0})),boolean:e=>Ct.create(R(p({},e),{coerce:!0})),bigint:e=>Qe.create(R(p({},e),{coerce:!0})),date:e=>dt.create(R(p({},e),{coerce:!0}))},any:Go,array:Qo,bigint:Uo,boolean:Ai,date:Zo,discriminatedUnion:rl,effect:Ci,enum:dl,function:ll,instanceof:Ho,intersection:nl,lazy:ul,literal:cl,map:al,nan:Wo,nativeEnum:fl,never:Xo,null:qo,nullable:ml,number:Oi,object:Jo,oboolean:a(()=>Ai().optional(),"oboolean"),onumber:a(()=>Oi().optional(),"onumber"),optional:pl,ostring:a(()=>Ti().optional(),"ostring"),pipeline:vl,preprocess:gl,promise:hl,record:sl,set:ol,strictObject:el,string:Ti,symbol:zo,transformer:Ci,tuple:il,undefined:$o,union:tl,unknown:Yo,void:Ko,NEVER:A,ZodIssueCode:m,quotelessJson:Qt,ZodError:Pe});function Di(e,t){return(r,n)=>e(r,n,t)}a(Di,"makeNamespacedCall");var yl=Object.defineProperty,_l=a((e,t,r)=>t in e?yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"base_defNormalProp"),Ni=a((e,t,r)=>(_l(e,typeof t!="symbol"?t+"":t,r),r),"__publicField");class ae{constructor(t,r){Ni(this,"_call"),Ni(this,"call"),this._call=t,this.call=Di(this._call,r)}}a(ae,"NamespaceBase");function de(e){return typeof e=="string"?e:e instanceof $e?e._id:e}a(de,"getRemId");const ki=a(e=>e.map(de),"getRemIds");var wl=Object.defineProperty,Ii=Object.getOwnPropertySymbols,El=Object.prototype.hasOwnProperty,xl=Object.prototype.propertyIsEnumerable,Xr=a((e,t,r)=>t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"rem_defNormalProp"),Sl=a((e,t)=>{for(var r in t||(t={}))El.call(t,r)&&Xr(e,r,t[r]);if(Ii)for(var r of Ii(t))xl.call(t,r)&&Xr(e,r,t[r]);return e},"rem_spreadValues"),f=a((e,t,r)=>(Xr(e,typeof t!="symbol"?t+"":t,r),r),"rem_publicField"),h=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"__async");class $e{constructor(t,r){f(this,"_id"),f(this,"createdAt"),f(this,"localUpdatedAt"),f(this,"updatedAt"),f(this,"parent"),f(this,"children"),f(this,"type"),f(this,"text"),f(this,"backText"),f(this,"_callMethod"),f(this,"call",(n,i)=>h(this,null,function*(){return yield this._callMethod(n,Sl({remId:this._id},i),Qr)})),f(this,"callAndReturnRem",(n,i)=>h(this,null,function*(){const s=yield this.call(n,i);if(s)return new $e(s,this._callMethod.bind(this))})),f(this,"callAndReturnManyRem",(n,i)=>h(this,null,function*(){const s=yield this.call(n,i);return s?s.map(o=>new $e(o,this._callMethod.bind(this))):[]})),f(this,"setTableFilter",n=>h(this,null,function*(){return yield this.call("setTableFilter",{filter:n})})),f(this,"isTable",()=>h(this,null,function*(){return yield this.call("isTable",{})})),f(this,"allRemInFolderQueue",()=>h(this,null,function*(){return((yield this.call("allRemInFolderQueue",{}))||[]).map(i=>new $e(i,this._callMethod.bind(this)))})),f(this,"positionAmongstSiblings",n=>h(this,null,function*(){return this.call("positionAmongstSiblings",{portalId:n})})),f(this,"positionAmongstVisibleSiblings",n=>h(this,null,function*(){return this.call("positionAmongstVisibleSiblings",{portalId:n})})),f(this,"hasPowerup",n=>h(this,null,function*(){return yield this.call("hasPowerup",{powerupCode:n})})),f(this,"getHiddenExplicitlyIncludedState",n=>h(this,null,function*(){return yield this.call("getHiddenExplicitlyIncludedState",{portalId:n})})),f(this,"setHiddenExplicitlyIncludedState",(n,i)=>h(this,null,function*(){return yield this.call("setHiddenExplicitlyIncludedState",{hiddenExplicitlyIncludedState:n,portalId:i})})),f(this,"getLastPracticed",()=>h(this,null,function*(){return yield this.call("getLastPracticed",{})})),f(this,"addPowerup",n=>h(this,null,function*(){return yield this.call("addPowerup",{powerupCode:n})})),f(this,"getLastTimeMovedTo",()=>h(this,null,function*(){return yield this.call("getLastTimeMovedTo",{})})),f(this,"getSchemaVersion",()=>h(this,null,function*(){return yield this.call("getSchemaVersion",{})})),f(this,"embeddedQueueViewMode",()=>h(this,null,function*(){return yield this.call("embeddedQueueViewMode",{})})),f(this,"isCollapsed",n=>h(this,null,function*(){return yield this.call("isCollapsed",{portalId:n})})),f(this,"setIsCollapsed",(n,i)=>h(this,null,function*(){return yield this.call("setIsCollapsed",{isCollapsed:n,portalId:i})})),f(this,"timesSelectedInSearch",()=>h(this,null,function*(){return yield this.call("timesSelectedInSearch",{})})),f(this,"getPortalType",()=>h(this,null,function*(){return yield this.call("getPortalType",{})})),f(this,"getPortalDirectlyIncludedRem",()=>h(this,null,function*(){return yield this.call("getPortalDirectlyIncludedRem",{})})),f(this,"getType",()=>h(this,null,function*(){return yield this.call("getType",{})})),f(this,"setPowerupProperty",(n,i,s)=>h(this,null,function*(){const o=Object.values(Et).includes(n)?Wt[n][i]:i;return yield this.call("setPowerupProperty",{powerupCode:n,powerupSlot:o,value:s})})),f(this,"getPowerupProperty",(n,i)=>h(this,null,function*(){const s=Object.values(Et).includes(n)?Wt[n][i]:i;return yield this.call("getPowerupProperty",{powerupCode:n,powerupSlot:s})})),f(this,"getPowerupPropertyAsRem",(n,i)=>h(this,null,function*(){const s=Object.values(Et).includes(n)?Wt[n][i]:i;return yield this.callAndReturnRem("getPowerupPropertyAsRem",{powerupCode:n,powerupSlot:s})})),f(this,"getTagPropertyAsRem",n=>h(this,null,function*(){return yield this.callAndReturnRem("getTagPropertyAsRem",{propertyId:n})})),f(this,"getPowerupPropertyAsRichText",(n,i)=>h(this,null,function*(){const s=Object.values(Et).includes(n)?Wt[n][i]:i;return yield this.call("getPowerupPropertyAsRichText",{powerupCode:n,powerupSlot:s})})),f(this,"setText",n=>h(this,null,function*(){return yield this.call("setText",{text:n})})),f(this,"setBackText",n=>h(this,null,function*(){return yield this.call("setBackText",{backText:n})})),f(this,"getTagPropertyValue",n=>h(this,null,function*(){return yield this.call("getTagPropertyValue",{propertyId:n})})),f(this,"getPropertyType",()=>h(this,null,function*(){return yield this.call("getPropertyType",{})})),f(this,"setTagPropertyValue",(n,i)=>h(this,null,function*(){return yield this.call("setTagPropertyValue",{propertyId:n,value:i})})),f(this,"removeTag",(n,i=!1)=>h(this,null,function*(){return yield this.call(i?"removeTagAndSlots":"removeTag",{tagId:n})})),f(this,"removePowerup",n=>h(this,null,function*(){return yield this.call("removePowerup",{powerupCode:n})})),f(this,"addTag",n=>h(this,null,function*(){const i=de(n);return yield this.call("addTag",{tagId:i})})),f(this,"remove",()=>h(this,null,function*(){return yield this.call("remove",{})})),f(this,"getTagRems",()=>h(this,null,function*(){return this.callAndReturnManyRem("getTagRems",{})})),f(this,"addToPortal",n=>h(this,null,function*(){const i=de(n);return yield this.call("addToPortal",{portalId:i})})),f(this,"removeFromPortal",n=>h(this,null,function*(){const i=de(n);return yield this.call("removeFromPortal",{portalId:i})})),f(this,"setParent",(n,i)=>h(this,null,function*(){const s=de(n);return yield this.call("setParent",{parentId:s,positionAmongstSiblings:i})})),f(this,"getOrCreateAliasWithText",n=>h(this,null,function*(){return yield this.callAndReturnRem("getOrCreateAliasWithText",{aliasText:n})})),f(this,"getChildrenRem",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("getChildrenRem")})),f(this,"allRemInDocumentOrPortal",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("allRemInDocumentOrPortal")})),f(this,"expand",(n,i)=>h(this,null,function*(){const s=de(n);return yield this.call("expand",{portalId:s,recurse:i})})),f(this,"collapse",n=>h(this,null,function*(){const i=de(n);return yield this.call("collapse",{portalId:i})})),f(this,"siblingRem",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("siblingRem")})),f(this,"visibleSiblingRem",n=>h(this,null,function*(){return yield this.callAndReturnManyRem("visibleSiblingRem",{portalId:n})})),f(this,"taggedRem",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("taggedRem")})),f(this,"ancestorTagRem",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("ancestorTagRem")})),f(this,"descendantTagRem",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("descendantTagRem")})),f(this,"getDescendants",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("getDescendants")})),f(this,"getCards",()=>h(this,null,function*(){const n=yield this.call("getCards");return(n==null?void 0:n.map(i=>new wt(i,this._callMethod)))||[]})),f(this,"getAliases",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("getAliases")})),f(this,"getParentRem",()=>h(this,null,function*(){return yield this.callAndReturnRem("getParentRem")})),f(this,"portalsAndDocumentsIn",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("portalsAndDocumentsIn")})),f(this,"merge",n=>h(this,null,function*(){return yield this.call("merge",{remIdToMergeIntoThisOne:n})})),f(this,"mergeAndSetAlias",n=>h(this,null,function*(){const i=de(n);return yield this.call("mergeAndSetAlias",{remIdToMergeIntoThisOne:i})})),f(this,"indent",n=>h(this,null,function*(){const i=de(n);return yield this.call("indent",{portalId:i})})),f(this,"outdent",n=>h(this,null,function*(){const i=de(n);return yield this.call("outdent",{portalId:i})})),f(this,"setType",n=>h(this,null,function*(){return yield this.call("setType",{type:n})})),f(this,"remsReferencingThis",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("remsReferencingThis")})),f(this,"remsBeingReferenced",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("remsBeingReferenced")})),f(this,"deepRemsBeingReferenced",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("deepRemsBeingReferenced")})),f(this,"getSources",()=>h(this,null,function*(){return yield this.callAndReturnManyRem("getSources")})),f(this,"addSource",n=>h(this,null,function*(){const i=de(n);return yield this.call("addSource",{sourceId:i})})),f(this,"removeSource",n=>h(this,null,function*(){const i=de(n);return yield this.call("removeSource",{sourceId:i})})),f(this,"isDocument",()=>h(this,null,function*(){return yield this.call("isDocument")})),f(this,"setIsDocument",n=>h(this,null,function*(){return yield this.call("setIsDocument",{isDocument:n})})),f(this,"isListItem",()=>h(this,null,function*(){return yield this.call("isListItem")})),f(this,"setIsListItem",n=>h(this,null,function*(){return yield this.call("setIsListItem",{isListItem:n})})),f(this,"isCardItem",()=>h(this,null,function*(){return yield this.call("isMultilineCard")})),f(this,"setIsCardItem",n=>h(this,null,function*(){return yield this.call("setIsMultilineCard",{isCardItem:n})})),f(this,"isQuote",()=>h(this,null,function*(){return yield this.call("isQuote")})),f(this,"setIsQuote",n=>h(this,null,function*(){yield this.call("setIsQuote",{isQuote:n})})),f(this,"isCode",()=>h(this,null,function*(){return yield this.call("isCode")})),f(this,"setIsCode",n=>h(this,null,function*(){yield this.call("setIsCode",{isCode:n})})),f(this,"isTodo",()=>h(this,null,function*(){return yield this.call("isTodo")})),f(this,"setIsTodo",n=>h(this,null,function*(){yield this.call("setIsTodo",{isTodo:n})})),f(this,"getTodoStatus",()=>h(this,null,function*(){return yield this.call("getTodoStatus")})),f(this,"setTodoStatus",n=>h(this,null,function*(){return yield this.call("setTodoStatus",{todoStatus:n})})),f(this,"getFontSize",()=>h(this,null,function*(){return yield this.call("getFontSize")})),f(this,"setFontSize",n=>h(this,null,function*(){return yield this.call("setFontSize",{fontSize:n})})),f(this,"getHighlightColor",()=>h(this,null,function*(){return yield this.call("getHighlightColor")})),f(this,"setHighlightColor",n=>h(this,null,function*(){return yield this.call("setHighlightColor",{highlightColor:n})})),f(this,"isPowerup",()=>h(this,null,function*(){return yield this.call("isPowerup")})),f(this,"isPowerupEnum",()=>h(this,null,function*(){return yield this.call("isPowerupEnum")})),f(this,"isPowerupPropertyListItem",()=>h(this,null,function*(){return yield this.call("isPowerupPropertyListItem")})),f(this,"isPowerupSlot",()=>h(this,null,function*(){return yield this.call("isPowerupSlot")})),f(this,"isPowerupProperty",()=>h(this,null,function*(){return yield this.call("isPowerupProperty")})),f(this,"isSlot",()=>h(this,null,function*(){return yield this.call("isSlot")})),f(this,"setIsSlot",n=>h(this,null,function*(){return yield this.call("setIsSlot",{isSlot:n})})),f(this,"isProperty",()=>h(this,null,function*(){return yield this.call("isSlot")})),f(this,"setIsProperty",n=>h(this,null,function*(){return yield this.call("setIsSlot",{isSlot:n})})),f(this,"openRemInContext",n=>h(this,null,function*(){yield this.call("openRemInContext",{portalId:n})})),f(this,"openRemAsPage",()=>h(this,null,function*(){yield this.call("openRemAsPage")})),f(this,"getEnablePractice",()=>h(this,null,function*(){return yield this.call("getEnablePractice")})),f(this,"getPracticeDirection",()=>h(this,null,function*(){return yield this.call("getPracticeDirection")})),f(this,"setEnablePractice",n=>h(this,null,function*(){return yield this.call("setEnablePractice",{enablePractice:n})})),f(this,"setPracticeDirection",n=>h(this,null,function*(){return yield this.call("setPracticeDirection",{direction:n})})),f(this,"copyPortalReferenceToClipboard",()=>h(this,null,function*(){return yield this.call("copyPortalReferenceToClipboard")})),f(this,"copyTagReferenceToClipboard",()=>h(this,null,function*(){return yield this.call("copyTagReferenceToClipboard")})),f(this,"copyReferenceToClipboard",()=>h(this,null,function*(){return yield this.call("copyReferenceToClipboard")})),f(this,"scrollToReaderHighlight",()=>h(this,null,function*(){return yield this.call("scrollToReaderHighlight")})),f(this,"isFolder",()=>h(this,null,function*(){return yield this.call("isFolder")})),f(this,"setIsFolder",n=>h(this,null,function*(){return yield this.call("setIsFolder",{isFolder:n})})),this._id=t._id,this.parent=t.parent,this.children=t.children,this.type=t.type,this.text=t.text,this.backText=t.backText,this.updatedAt=t.u,this.localUpdatedAt=t.o,this.createdAt=t.createdAt,this._callMethod=r}}a($e,"RemObject");class Kr extends ae{constructor(t){super(t,Qr),f(this,"findOne",r=>h(this,null,function*(){if(!r)return;const n=yield this.call("findOne",{remId:r});if(n)return new fe(n,this.call)})),f(this,"createSingleRemWithMarkdown",(r,n)=>h(this,null,function*(){const i=yield this.call("createSingleRemWithMarkdown",{markdown:r,parentId:n});return i&&new fe(i,this.call)})),f(this,"createTreeWithMarkdown",(r,n)=>h(this,null,function*(){return((yield this.call("createTreeWithMarkdown",{markdown:r,parentId:n}))||[]).map(s=>new fe(s,this.call))})),f(this,"findByName",(r,n)=>h(this,null,function*(){const i=yield this.call("findByName",{name:r,parentId:n});if(i)return new fe(i,this.call)})),f(this,"moveRems",(r,n,i,s)=>h(this,null,function*(){const o=ki(r),l=de(n),u=de(s);yield this.call("moveRems",{portalId:u,remIds:o,newParentId:l,positionAmongstSiblings:i})})),f(this,"getAll",()=>h(this,null,function*(){return((yield this.call("getAll",{}))||[]).map(n=>new fe(n,this._call))})),f(this,"findMany",r=>h(this,null,function*(){const n=ki(r),i=yield this.call("findMany",{remIds:n});if(i)return i.map(s=>new fe(s,this._call))})),f(this,"createPortal",()=>h(this,null,function*(){const r=yield this.call("createPortal",{});return r?new fe(r,this._call):void 0})),f(this,"createLinkRem",(r,n=!0)=>h(this,null,function*(){const i=yield this.call("createLinkRem",{url:r,addTitle:n});if(i)return new fe(i,this._call)})),f(this,"createTable",r=>h(this,null,function*(){const n=de(r),i=yield this.call("createTable",{existingTagId:n});if(i)return new fe(i,this._call)})),f(this,"createRem",()=>h(this,null,function*(){const r=yield this.call("createRem",{});if(r)return new fe(r,this._call)}))}}a(Kr,"RemNamespace");const fe=$e,Qr="rem";var Pl=Object.defineProperty,Mi=Object.getOwnPropertySymbols,bl=Object.prototype.hasOwnProperty,Rl=Object.prototype.propertyIsEnumerable,Jr=a((e,t,r)=>t in e?Pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"card_defNormalProp"),Li=a((e,t)=>{for(var r in t||(t={}))bl.call(t,r)&&Jr(e,r,t[r]);if(Mi)for(var r of Mi(t))Rl.call(t,r)&&Jr(e,r,t[r]);return e},"card_spreadValues"),ge=a((e,t,r)=>(Jr(e,typeof t!="symbol"?t+"":t,r),r),"card_publicField"),et=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"card_async");const en="card";class tn extends ae{constructor(t){super(t,en),ge(this,"findOne",r=>et(this,null,function*(){if(!r)return;const n=yield this.call("findOne",{id:r});return n?new wt(n,this._call):void 0})),ge(this,"getAll",()=>et(this,null,function*(){const r=yield this.call("getAll",{});return(r==null?void 0:r.map(n=>new wt(n,this._call)))||[]})),ge(this,"findMany",r=>et(this,null,function*(){const n=yield this.call("findMany",{ids:r});return(n==null?void 0:n.map(i=>new wt(i,this._call)))||[]}))}}a(tn,"CardNamespace");class wt extends ae{constructor(t,r){super(r,en),ge(this,"_id"),ge(this,"remId"),ge(this,"type"),ge(this,"createdAt"),ge(this,"repetitionHistory"),ge(this,"nextRepetitionTime"),ge(this,"timesWrongInRow"),ge(this,"lastRepetitionTime"),ge(this,"callCard",(i,s)=>et(this,null,function*(){return yield this._call(i,Li({id:this._id},s),en)})),ge(this,"callRem",(i,s)=>et(this,null,function*(){return yield this._call(i,Li({},s),Qr)})),ge(this,"getType",()=>et(this,null,function*(){return yield this.callCard("getType",{id:this._id})})),ge(this,"getRem",()=>et(this,null,function*(){return yield this.callRem("findOne",{remId:this.remId})})),ge(this,"remove",()=>et(this,null,function*(){return yield this.callCard("remove",{})})),ge(this,"updateCardRepetitionStatus",i=>et(this,null,function*(){return yield this.callCard("updateCardRepetitionStatus",{score:i})})),this._id=t._id,this.remId=t.remId;const n=t.cardType;this.type=n==="f"?"forward":n==="b"?"backward":{clozeId:n},this.createdAt=t.createdAt,this.repetitionHistory=t.history,this.nextRepetitionTime=t.activeNextTime,this.timesWrongInRow=t.timesWrongInRow}}a(wt,"Card");var Tl=Object.defineProperty,Ol=Object.defineProperties,Al=Object.getOwnPropertyDescriptors,Fi=Object.getOwnPropertySymbols,Cl=Object.prototype.hasOwnProperty,Dl=Object.prototype.propertyIsEnumerable,ji=a((e,t,r)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"interfaces_defNormalProp"),Nl=a((e,t)=>{for(var r in t||(t={}))Cl.call(t,r)&&ji(e,r,t[r]);if(Fi)for(var r of Fi(t))Dl.call(t,r)&&ji(e,r,t[r]);return e},"interfaces_spreadValues"),kl=a((e,t)=>Ol(e,Al(t)),"__spreadProps"),Rr=(e=>(e.Rem="Rem",e.Text="Text",e.PDF="PDF",e.WebReader="WebReader",e))(Rr||{});const Vi={quote:"q",underline:"u",bold:"b",italic:"l"};var Tr=(e=>(e[e.undefined=0]="undefined",e[e.Red=1]="Red",e[e.Orange=2]="Orange",e[e.Yellow=3]="Yellow",e[e.Green=4]="Green",e[e.Blue=6]="Blue",e[e.Purple=5]="Purple",e[e.Gray=7]="Gray",e[e.Brown=8]="Brown",e[e.Pink=9]="Pink",e))(Tr||{}),rn=(e=>(e.Read="Read",e.ReadCreate="ReadCreate",e.ReadCreateModify="ReadCreateModify",e.ReadCreateModifyDelete="ReadCreateModifyDelete",e))(rn||{}),tt=(e=>(e.All="All",e.DescendantsOfName="DescendantsOfName",e.DescendantsOfId="DescendantsOfId",e.Powerup="Powerup",e.FocusedSubtree="FocusedSubtree",e.KnowledgeBaseInfo="KnowledgeBaseInfo",e))(tt||{}),Bi=(e=>(e.FloatingWidget="FloatingWidget",e.PaneHeader="PaneHeader",e.Index="Index",e.TopBar="TopBar",e.QueueToolbar="QueueToolbar",e.QueueBelowTopBar="QueueBelowTopBar",e.DocumentAboveToolbar="AboveDocumentToolbar",e.DocumentBelowToolbar="DocumentBelowToolbar",e.DocumentBelowEditor="DocumentBelowEditor",e.DocumentBelowTitle="DocumentBelowTitle",e.SidebarEnd="SidebarEnd",e.RemReferencePopupStart="RemReferencePopupStart",e.RemReferencePopupRight="RemReferencePopupRight",e.Pane="Pane",e.FlashcardAnswerButtons="FlashcardAnswerButtons",e.FlashcardAnswer="FlashcardAnswer",e.Flashcard="Flashcard",e.FlashcardExtraDetail="FlashcardExtraDetail",e.FlashcardUnder="FlashcardUnder",e.RightSidebar="RightSidebar",e.LeftSidebar="LeftSidebar",e.Popup="Popup",e.UnderRemEditor="UnderRemEditor",e.RightSideOfEditor="RightSideOfEditor",e.SelectedTextMenu="SelectedTextMenu",e.PDFHighlightToolbarLocation="PDFHighlightToolbarLocation",e.PDFHighlightPopupLocation="PDFHighlightPopupLocation",e.DeckPage="DeckPage",e.LearningProgressPage="LearningProgressPage",e))(Bi||{}),Et=(e=>(e.Aliases="l",e.AutoSort="a",e.AppliedTemplates="at",e.AutoTemplate="m",e.CustomCSS="c",e.DailyDocument="d",e.DisableCards="u",e.Divider="dv",e.Document="o",e.DocumentSidebar="s",e.EditLater="e",e.Emoji="j",e.ExtraCardDetail="x",e.Header="r",e.Highlight="h",e.Link="b",e.List="i",e.MultipleChoice="mc",e.MultiLineCard="w",e.PDFPageNumber="pn",e.PDFHighlight="n",e.QuickAdd="q",e.Quote="qt",e.RestoredFromTrash="rt",e.Slot="y",e.Sources="os",e.SuperPrivate="k",e.TableOfContent="toc",e.TextToSpeech="tts",e.EmbedWebsite="ew",e.UsedAsTag="g",e.Todo="t",e.UploadedFile="f",e.WebHighlight="p",e.Website="z",e.Code="cd",e.TypeInAnswer="ty",e.Deck="de",e.SearchPortal="sp",e.Collection="ct",e.HTMLHighlight="hh",e.HideQueueAncestors="ha",e.ImportedDocument="id",e.Image="im",e.SavedDocuments="sd",e.Callout="clo",e))(Et||{});const Wt={ha:{},l:{Aliases:"a"},ct:{Template:"t"},a:{SortDirection:"d"},cd:{Language:"l",DontWrap:"w",DontBoundHeight:"b"},m:{},c:{},d:{Timestamp:"s",Date:"d"},u:{},o:{Status:"s",DeprecatedSource:"o"},s:{},dv:{},e:{Message:"m"},j:{},x:{},r:{Size:"s"},h:{Color:"c"},b:{URL:"u",Title:"t",ReadPercent:"r",LastReadDate:"d",FileURL:"f"},i:{},w:{},n:{Data:"d",PdfId:"p"},hh:{Data:"d",HTMLId:"h"},pn:{},q:{},qt:{},rt:{Date:"d"},y:{SelectTag:"t",ExtraSlotsOnFrontOfCard:"f",ExtraSlotsOnBackOfCard:"b"},os:{Sources:"os"},at:{Templates:"t"},sp:{Query:"q",Filter:"f",AutomaticBacklinkSearchPortalFor:"b",DontIncludeNestedDescendants:"s"},k:{},g:{AutoActivate:"a",Pinned:"p",CollapseConfigure:"c",PrimaryColumnName:"n"},t:{Status:"s"},ew:{URL:"u",WIDTH:"w",HEIGHT:"h"},toc:{},tts:{},f:{Type:"t",URL:"u",Name:"n",Authors:"a",Keywords:"k",Title:"i",ViewerData:"v",ReadPercent:"r",LastReadDate:"d",HasNoTextLayer:"tl",Theme:"h"},p:{Data:"d",Url:"w"},z:{Hostname:"u"},clo:{BulletIcon:"b"},ty:{},de:{Topics:"t",Status:"s",MaxNewCardsPerDay:"m",MaxTotalCardsPerDay:"c",ExamSchedulerDate:"e",RetrievabilityPeriodStartDate:"r",ConsolidationPeriodStartDate:"pmd",ConsolidationPeriodReIntroSectionLength:"pml",ExamConfig:"ec",SavedExamInfo:"ei",ExamSchedulerDesiredStability:"eds",ExamSchedulerMaxNewCardsPerDay:"emnc",ExamSchedulerMaxTotalCardsPerDay:"emtc",ExamSchedulerCollection:"emcd"},id:{},sd:{},mc:{},im:{Image:"i"}};var Hi=(e=>(e[e.DEFAULT_TYPE=void 0]="DEFAULT_TYPE",e[e.CONCEPT=1]="CONCEPT",e[e.DESCRIPTOR=2]="DESCRIPTOR",e))(Hi||{}),nn=(e=>(e[e.DEFAULT_TYPE=void 0]="DEFAULT_TYPE",e[e.CONCEPT=1]="CONCEPT",e[e.DESCRIPTOR=2]="DESCRIPTOR",e[e.DEPRECATED_BASIC_CARD=4]="DEPRECATED_BASIC_CARD",e[e.PORTAL=6]="PORTAL",e[e.DEPRECATED_SLOT=3]="DEPRECATED_SLOT",e[e.DEPRECATED_PATTERN=5]="DEPRECATED_PATTERN",e[e.DEPRECATED_COLLECTION=7]="DEPRECATED_COLLECTION",e[e.DEPRECATED_TEXT=8]="DEPRECATED_TEXT",e))(nn||{}),Wi=(e=>(e[e.DEFAULT_TYPE=0]="DEFAULT_TYPE",e[e.CONCEPT=1]="CONCEPT",e[e.DESCRIPTOR=2]="DESCRIPTOR",e[e.PORTAL=3]="PORTAL",e))(Wi||{});function Il(e){switch(e){case 1:return 1;case 2:return 2;case 6:return 3;default:return 0}}a(Il,"remTypeToTinyGraphType");function Ml(e){switch(e){case 1:return 1;case 2:return 2;case 3:return 6;default:return nn.DEFAULT_TYPE}}a(Ml,"remTypeTinyGraphToNormal");var Ui=(e=>(e.MultipleWindows="multipleWindows",e.MultipleWindowsPanel="multipleWindowsPanel",e.Dropdown="Dropdown",e.Breadcrumbs="Breadcrumbs",e.FloatingDiscussion="floatingDiscussion",e.WindowManager="windowManager",e.RemPage="RemPage",e.WindowPane="windowPane",e.MobileTabBar="MobileTabBar",e.Document="document",e.NotificationPanel="notificationPanel",e.EmojiPicker="EmojiPicker",e.HierarchyEditorTree="hierarchyEditorTree",e.ChangeCodeLanguage="ChangeCodeLanguage",e.HierarchyEditorTreePortal="hierarchyEditorTreePortal",e.HierarchyEditorTreeRem="hierarchyEditorTreeRem",e.RichTextEditor="richTextEditor",e.RichTextEditorItem="richTextEditorItem",e.RichTextEditorAliasPopup="richTextEditorAliasPopup",e.TableCellList="tableCellList",e.TableCellPopup="tableCellPopup",e.Table="Table",e.ColumnConfigurationMenu="columnConfigurationMenu",e.Popup="popup",e.Omnibar="omnibar",e.QuickAdd="quickAdd",e.Date="date",e.Queue="queue",e.TypeAnswerBox="typeAnswerBox",e.QueryBuilder="queryBuilder",e.PublishedKnowledgeBase="publishedKnowledgeBase",e.ArticleViewer="articleViewer",e.Article="article",e.FullPageSearch="fullPageSearch",e.ExtraDate="extraDate",e.DropToOpenAsDocument="dropToOpenAsDocument",e.TableSearch="TableSearch",e.PDF="pdf",e.PdfPageNumber="pdfPageNumber",e.NotesPopup="notesPopup",e.PDFUploader="pdfUploader",e.Reader="reader",e.RemSearchPopup="remSearchPopup",e.Debugger="debugger",e.SelectRem="selectRem",e.ExpressionSelect="ExpressionSelect",e.HiddenChildren="hiddenChildren",e.TableTitle="tableTitle",e.TableTagTitle="tableTagTitle",e.TableColumnTitle="tableColumnTitle",e.Toolbar="toolbar",e.Title="title",e.SidebarTitleEdit="sidebarTitleEdit",e.ArticleQueue="articleQueue",e.UserDocument="userDocument",e.DocumentSidebar="documentSidebar",e.RightSidebar="rightSidebar",e.Documents="documents",e.AudioVideo="audioVideo",e.ImageNode="imageNode",e.QueryNodeEditor="queryNodeEditor",e.LinkBox="linkBox",e.SelectedTextMenu="selectedTextMenu",e.RemReferenceNode="remReferenceNode",e.DeckTopicsList="deckTopics",e.DeckTopic="deckTopic",e.AddDeckTopic="addDeckTopic",e.DocSources="docSources",e.DocTags="docTags",e.AddSources="addSources",e.AddTags="addTags",e.InlineLink="inlineLink",e.ImageSelector="imageSelector",e.Latex="latex",e.Image="image",e.Cloze="cloze",e.Alias="alias",e.QueueFolderDropdownSelector="queueFolderDropdownSelector",e.CustomEditLaterMessage="customEditLaterMessage",e.DocumentParents="documentParents",e.AreaHighlight="areaHighlight",e.WindowOne="windowOne",e.WindowTwo="windowTwo",e.Replace="replace",e.Find="find",e.Tag="tag",e.TagBar="tagBar",e.Menu="menu",e.Screenshot="screenshot",e.HelpMessage="helpMessage",e.AddNode="addNode",e.EditEdge="editEdge",e.Controls="controls",e.DocumentSource="documentSource",e.Merge="merge",e.HierarchyEditorTemplateFields="hierarchyEditorTemplateFields",e.SearchExistingTable="searchExistingTable",e.FieldKey="fieldKey",e.PluginRemRichTextEditor="pluginRemRichTextEditor",e.PluginRichTextViewer="pluginRichTextViewer",e.RemHierarchyEditorTree="remHierarchyEditorTree",e.PluginQueue="pluginQueue",e.RichTextEditorFakeEmbed="richTextEditorFakeEmbed",e.DocumentHeader="documentHeader",e.EmbedWebsite="embedWebsite",e.TemplateValueEditor="TemplateValueEditor",e.TemplateValueTextEditor="TemplateValueTextEditor",e.Key="key",e.Value="value",e.CtrlF="ctrlF",e.CtrlFFind="ctrlFind",e.CtrlFReplace="ctrlReplace",e.CtrlFFilter="ctrlFilter",e.SearchResult="searchResult",e.SearchResultItem="searchResultItem",e.FocusableInput="focusableInput",e.UpvoteDownvoteFeedback="UpvoteDownvoteFeedback",e.RightSidebarHelpInput="RightSidebarHelpInput",e.LeftSidebarTutorial="LeftSidebarTutorial",e.CardTableSearchQuery="cardTableSearchQuery",e.Tab="tab",e.ExamDeckRemSearchPopup="ExamDeckRemSearchPopup",e.RightSideImagePopup="RightSideImagePopup",e.RightSideUploadedImagePopup="RightSideUploadedImagePopup",e.RemDocumentSidebar="RemDocumentSidebar",e.RemEmoji="remEmoji",e.FlashcardPreview="FlashcardPreview",e.HoverPreview="HoverPreview",e))(Ui||{}),Zi=(e=>(e.Text="text",e.SelectedRange="selectedRange",e))(Zi||{}),Ll=(e=>(e.Global="global",e.RemFocused="rem-focused",e.RemSelected="rem-selected",e))(Ll||{}),sn=(e=>(e[e.IMPLICIT_TEXT=void 0]="IMPLICIT_TEXT",e.NUMBER="number",e.DEPRECATED_TITLE="title",e.TEXT="text",e.CHECKBOX="checkbox",e.DATE="date",e.MULTI_SELECT="multi_select",e.SINGLE_SELECT="single_select",e.CREATED_AT="created_at",e.LAST_UPDATED="last_updated",e.IMAGE="image",e.URL="url",e.DEFINITION="definition",e))(sn||{}),zi=(e=>(e.PropertyConfigMenu="PropertyConfigMenu",e.QueueMenu="QueueMenu",e.ReaderMenu="ReaderMenu",e.PDFHighlightPopupLocation="PDFHighlightPopupLocation",e.DocumentMenu="DocumentMenu",e))(zi||{});const Fl=d.union([d.object({type:d.literal("email")}),d.object({type:d.literal("url")}),d.object({type:d.literal("regex"),arg:d.string()}),d.object({type:d.literal("startsWith"),arg:d.string()}),d.object({type:d.literal("endsWith"),arg:d.string()}),d.object({type:d.literal("min"),arg:d.number().positive()}),d.object({type:d.literal("max"),arg:d.number().positive()}),d.object({type:d.literal("length"),arg:d.number().positive()})]),jl=d.union([d.object({type:d.literal("gte"),arg:d.number()}),d.object({type:d.literal("min"),arg:d.number()}),d.object({type:d.literal("gt"),arg:d.number()}),d.object({type:d.literal("lt"),arg:d.number()}),d.object({type:d.literal("lte"),arg:d.number()}),d.object({type:d.literal("int")}),d.object({type:d.literal("multipleOf"),arg:d.number()}),d.object({type:d.literal("step"),arg:d.number()}),d.object({type:d.literal("positive")}),d.object({type:d.literal("negative")}),d.object({type:d.literal("max"),arg:d.number()})]);var $i=(e=>(e[e.TOO_EARLY=.01]="TOO_EARLY",e[e.AGAIN=0]="AGAIN",e[e.HARD=.5]="HARD",e[e.GOOD=1]="GOOD",e[e.EASY=1.5]="EASY",e[e.VIEWED_AS_LEECH=2]="VIEWED_AS_LEECH",e[e.RESET=3]="RESET",e[e.MANUAL_DATE=4]="MANUAL_DATE",e[e.MANUAL_EASE=5]="MANUAL_EASE",e))($i||{}),Le=(e=>(e.Queue="Queue",e.PreviewRemCards="ViewAsCard",e.LoadingSpinner="LoadingSpinner",e.RichTextEditor="RichTextEditor",e.RichText="RichTextViewer",e.RemRichTextEditor="RemRichTextEditor",e.RemViewer="RemViewer",e.RemHierarchyEditorTree="RemHierarchyEditorTree",e.PDFWebReader="PDFWebReader",e.DocumentViewer="DocumentViewer",e))(Le||{});const Vl={REM:"q",IMAGE:"i",AUDIO:"a",PLUGIN:"p",DRAWING:"r",GLOBAL_NAME:"g",DEPRECATED_CODE:"o",ANNOTATION:"n",TEXT:"m",LATEX:"x",CARD_DELIMITER:"s",FLASHCARD_ICON:"fi",DYNAMIC_ICON:"di",ADD_ICON:"ai"},rt={CLOZE:"cId",UNDERLINE:"u",SUBSCRIPT:"sub",SUPERSCRIPT:"sup",BOLD:"b",STRIKETHROUGH:"str",ITALIC:"l",INLINE_LINK:"qId",INLINE_CODE:"q",QUOTE:"qt",HIDDEN_CLOZE:"hiddenCloze",REVEALED_CLOZE:"revealedCloze",HIGHLIGHT:"h",TEXT_COLOR:"tc",DEPRECATED_LINK:"url",CODE:"code",CODE_LANGUAGE:"language",COMMENT_ID:"c",CLOZE_HINT:"cloze-hint",CARD_HINT_FRONT:"card-hint-front",CARD_HINT_BACK:"card-hint-back",MULTILINE_CARD_HINT:"multiline-card-item-hint"},qe={UNDERLINE:"u",BOLD:"b",ITALIC:"t",INLINE_CODE:"c",CLOZE:"e",HIDDEN_CLOZE:"z",LINK:"l",HIGHLIGHT:"h",DATE:"d"},Bl={LATEX:"x"},Hl={[qe.UNDERLINE]:rt.UNDERLINE,[qe.BOLD]:rt.BOLD,[qe.ITALIC]:rt.ITALIC,[qe.INLINE_CODE]:rt.INLINE_CODE,[qe.CLOZE]:rt.CLOZE,[qe.HIDDEN_CLOZE]:rt.HIDDEN_CLOZE,[qe.LINK]:rt.DEPRECATED_LINK,[qe.HIGHLIGHT]:rt.HIGHLIGHT,[qe.DATE]:!0};var qi=(e=>(e[e.PORTAL=void 0]="PORTAL",e[e.EMBEDDED_QUEUE=2]="EMBEDDED_QUEUE",e[e.SCAFFOLD=3]="SCAFFOLD",e[e.SEARCH_PORTAL=4]="SEARCH_PORTAL",e))(qi||{}),Gi=(e=>(e[e.OFFSET=0]="OFFSET",e[e.UNIT=1]="UNIT",e[e.CHARACTER=2]="CHARACTER",e[e.WORD=3]="WORD",e[e.WORD_START=4]="WORD_START",e[e.WORD_END=5]="WORD_END",e[e.LINE=6]="LINE",e))(Gi||{}),Yi=(e=>(e.SRSScheduleCard="SRSScheduleCard",e.GetNextCard="GetNextCard",e))(Yi||{}),Xi=(e=>(e.RetrievabilityPeriodPreExam="pre_exam",e.MaintenancePeriod="maintenance_period",e.EnterConsolidationPeriod="enter_consolidation_period",e.ConsolidationPeriod="consolidation_period",e.NotGoodEnoughForExam="exam_not_good",e.PostponedExamStartDate="postpone_start",e.NormalRepetition="normal_repetition",e))(Xi||{});const Wl=["pre_exam","maintenance_period","enter_consolidation_period","consolidation_period","exam_not_good","postpone_start"];var an=(e=>(e[e.Enum=void 0]="Enum",e.AnyRem="any",e.Relation="relation",e))(an||{}),Ki=(e=>(e.Queue="Queue",e))(Ki||{}),on=(e=>(e.RIGHT="right",e.BELOW="label",e.ONLY_DOCUMENT="only_document",e.ONLY_IN_TABLE="only_table",e[e.INLINE=void 0]="INLINE",e))(on||{}),ln=(e=>(e.NumReviews="num_reviews",e.DueDate="due_date",e.IsEnabled="is_enabled",e.IsDue="is_due",e.IsLeech="is_leech",e.CardMasteryLevel="card_mastery_level",e.CreatedAt="created_at",e))(ln||{}),he=(e=>(e.Text="Text",e.Reference="Reference",e.Portal="Portal",e.Tag="Tag",e.TagWithoutInheritance="TagWithoutInheritance",e.Connection="Connection",e.IsDescendantOf="IsDescendantOf",e.InDocument="InDocument",e.RemType="RemType",e.Date="Date",e.MultiSelect="Multi Select",e.LegacyMultiSelect="MultiSelect",e.SingleSelect="Single Select",e.LegacySingleSelect="SingleSelect",e.Checkbox="Checkbox",e.Number="NumberExpression",e))(he||{}),Q=(e=>(e.Or="or",e.And="and",e.Not="not",e.Expression="expression",e.GetSlot="get_slot",e.GetCardInfo="get_card_info",e))(Q||{});const Qi=d.object({exp:d.literal("not"),exp1:d.lazy(()=>lr)}),Ji=d.object({exp:d.union([d.literal("and"),d.literal("or")]),exps:d.lazy(()=>lr.array()),cannotRemove:d.boolean().optional()}),es=d.object({exp:d.literal("get_slot"),slotRemId:d.string(),exps:d.lazy(()=>lr)}),ts=d.object({exp:d.literal("get_card_info"),cardField:d.nativeEnum(ln),exp1:d.lazy(()=>lr)}),rs=d.object({exp:d.literal("expression"),refType:d.enum(["Reference","Portal","Tag","TagWithoutInheritance","IsDescendantOf","InDocument","Connection"]),remId:d.string(),cannotRemove:d.boolean().optional(),cannotAdd:d.boolean().optional()}),ns=d.enum(["concept","descriptor","none"]),is=d.object({exp:d.literal("expression"),refType:d.literal("RemType"),remType:ns});var un=(e=>(e.Checked="checked",e.Unchecked="unchecked",e))(un||{}),cn=(e=>(e.Contains="contains",e.DoesNotContain="doesNotContain",e.Is="is",e.IsNot="notIs",e.StartsWith="startsWith",e.EndsWith="endsWith",e.IsEmpty="empty",e.IsNotEmpty="notEmpty",e.DefaultContains="",e))(cn||{});const Ul=["contains","is","startsWith","endsWith",""];var dn=(e=>(e.Is="is",e.IsNot="notIs",e.GreaterThan="greaterThan",e.LessThan="lessThan",e.GreaterThanOrEquals="greaterThanOrEquals",e.LessThanOrEquals="lessThanOrEquals",e.IsEmpty="notEmpty",e.IsNotEmpty="empty",e))(dn||{}),or=(e=>(e.Is="is",e.IsBefore="before",e.IsAfter="after",e.IsOnOrBefore="onOrBefore",e.IsOnOrAfter="onOrAfter",e.IsBetween="between",e.IsRelativeToToday="relativeToToday",e.IsEmpty="empty",e.IsNotEmpty="notEmpty",e))(or||{}),Or=(e=>(e.Today="today",e.StartOfTheWeek="startoftheweek",e.StartOfTheMonth="startofthemonth",e.StartOfTheYear="startoftheyear",e.EndOfTheWeek="endoftheweek",e.EndOfTheMonth="endofthemonth",e.EndOfTheYear="endoftheyear",e))(Or||{});const Zl={today:"Today",startoftheweek:"Start of the week",startofthemonth:"Start of the month",startoftheyear:"Start of the year",endoftheweek:"End of the week",endofthemonth:"End of the month",endoftheyear:"End of the year"};var fn=(e=>(e.Contains="contains",e.DoesNotContain="doesNotContains",e.IsEmpty="empty",e.IsNotEmpty="notEmpty",e))(fn||{}),Ar=(e=>(e.Is="is",e.IsNot="notIs",e.IsEmpty="empty",e.IsNotEmpty="notEmpty",e))(Ar||{});const zl=Object.values(or).filter(e=>e!=="relativeToToday");var hn=(e=>(e.Past="past",e.Next="next",e.This="this",e))(hn||{}),pn=(e=>(e.Day="day",e.Week="week",e.Month="month",e.Year="year",e))(pn||{});const $l={[""]:"contains",contains:"contains",is:"is",notIs:"is not",doesNotContain:"does not contain",startsWith:"starts with",endsWith:"ends with",empty:"is empty",notEmpty:"is not empty"},ql={is:"is",empty:"is empty",notEmpty:"is not empty",after:"is after",before:"is before",between:"is between",onOrAfter:"is on or after",onOrBefore:"is on or before",relativeToToday:"is relative to today"},Gl={is:"is",notIs:"is not",notEmpty:"is empty",empty:"is not empty",greaterThan:"is greater than",lessThan:"is less than",greaterThanOrEquals:"is greater than or equals",lessThanOrEquals:"is less than or equals"},Yl={contains:"contains",doesNotContains:"does not contains",empty:"is empty",notEmpty:"is not empty"},Xl={is:"is",notIs:"is not",empty:"is empty",notEmpty:"is not empty"},ss=d.object({exp:d.literal("expression"),refType:d.literal("Text"),text:d.string(),matcherType:d.nativeEnum(cn)}),as=d.object({exp:d.literal("expression"),refType:d.literal("NumberExpression"),text:d.string(),matcherType:d.nativeEnum(dn)}),mn=d.object({exp:d.literal("expression"),refType:d.literal("Date"),date:d.string().optional(),optionalDate:d.string().optional(),dateRelativeMatcher:d.nativeEnum(Or).optional(),optionalDateRelativeMatcher:d.nativeEnum(Or).optional(),relativeDateModifier:d.nativeEnum(hn).optional(),relativePeriodOffset:d.number().optional(),relativeDatePeriod:d.nativeEnum(pn).optional(),matcherType:d.nativeEnum(or)}),os=d.object({exp:d.literal("expression"),refType:d.literal("Multi Select"),matcherType:d.nativeEnum(fn),remIds:d.array(d.string()).optional()}),ls=d.object({exp:d.literal("expression"),refType:d.literal("SingleSelect"),matcherType:d.nativeEnum(Ar),remId:d.string().optional()}),us=d.object({exp:d.literal("expression"),refType:d.literal("Checkbox"),value:d.nativeEnum(un)}),cs=d.object({exp:d.literal("expression"),refType:d.literal("Single Select"),matcherType:d.nativeEnum(Ar),remIds:d.array(d.string()).optional()}),ds=d.lazy(()=>d.union([rs,ss,as,is,mn,os,cs,ls,us,mn])),lr=d.lazy(()=>d.union([Qi,Ji,es,ts,ds])),gn=d.object({code:d.string(),name:d.string(),onlyProgrammaticModifying:d.boolean().optional(),hidden:d.boolean().optional(),enumValues:d.record(d.string()).optional(),defaultEnumValue:d.string().optional(),propertyType:d.nativeEnum(sn).optional(),propertyLocation:d.nativeEnum(on).optional(),selectSourceType:d.nativeEnum(an).optional(),dontPublishToSharedArticle:d.boolean().optional()}),Kl=d.union([d.object({slots:gn.array()}),d.object({properties:gn.array()})]);var fs=(e=>(e[e.ForwardCard=1]="ForwardCard",e[e.BackwardCard=2]="BackwardCard",e[e.EditInQueue=3]="EditInQueue",e[e.QueueNoticeCard=4]="QueueNoticeCard",e[e.ClozeCard=5]="ClozeCard",e[e.DocumentCard=6]="DocumentCard",e[e.SelectCluster=7]="SelectCluster",e[e.SubFolderSelector=8]="SubFolderSelector",e[e.DailyTargetGoalSelector=10]="DailyTargetGoalSelector",e[e.StreakGoalSelector=11]="StreakGoalSelector",e[e.AddExtraNewOrStaleCards=12]="AddExtraNewOrStaleCards",e[e.SignUpToSaveProgress=14]="SignUpToSaveProgress",e[e.Plugin=15]="Plugin",e[e.DailyCheckpoint=16]="DailyCheckpoint",e[e.Checkpoint=17]="Checkpoint",e[e.Leech=18]="Leech",e[e.StartExamPractice=19]="StartExamPractice",e[e.EndExamPractice=20]="EndExamPractice",e[e.TransitionOutOfActive=21]="TransitionOutOfActive",e[e.PracticeBuried=22]="PracticeBuried",e[e.PracticeAgainForExamTomorrowSlide=23]="PracticeAgainForExamTomorrowSlide",e[e.OfflineImageCards=24]="OfflineImageCards",e[e.PrivateCards=25]="PrivateCards",e))(fs||{});const hs={[1]:"Forward Card",[2]:"Backward Card",[3]:"Edit in Queue",[4]:"Queue Notice Card",[5]:"Cloze Card",[6]:"Document Card",[7]:"Select Cluster",[8]:"Subfolder Selector",[10]:"Daily Target Goal Selector",[11]:"Streak Goal Selector",[12]:"Add Extra New or Stale Cards",[14]:"Sign Up to Save Progress",[15]:"Plugin",[16]:"Daily Checkpoint",[21]:"Transition Out Of Active",[17]:"Checkpoint",[18]:"Leech",[19]:"Start Exam Practice",[20]:"End Exam Practice",[22]:"Practice Buried",[23]:"Practice Again for Exam Tomorrow",[24]:"Offline Image Cards",[25]:"Private Cards"},Ql=kl(Nl({},hs),{[18]:"It looks like you're struggling to learn and retain this card."});var Jl=te(854),ps=te.n(Jl),eu=Object.defineProperty,ms=Object.getOwnPropertySymbols,tu=Object.prototype.hasOwnProperty,ru=Object.prototype.propertyIsEnumerable,nu=a((e,t,r)=>t in e?eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"app_defNormalProp"),iu=a((e,t)=>{var r={};for(var n in e)tu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ms)for(var n of ms(e))t.indexOf(n)<0&&ru.call(e,n)&&(r[n]=e[n]);return r},"__objRest"),ue=a((e,t,r)=>(nu(e,typeof t!="symbol"?t+"":t,r),r),"app_publicField"),ve=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"app_async");const su="app";class vn extends ae{constructor(t,r){super(t,su),ue(this,"plugin"),ue(this,"waitForInitialSync",()=>ve(this,null,function*(){yield this._call("waitForInitialSync",{})})),ue(this,"registerPowerup",n=>ve(this,null,function*(){yield this._call("registerPowerup",n)})),ue(this,"registerWidget",(n,i,s)=>ve(this,null,function*(){yield this._call("registerWidget",{fileName:n,location:i,options:s})})),ue(this,"unregisterWidget",(n,i)=>ve(this,null,function*(){yield this._call("unregisterWidget",{fileName:n,location:i})})),ue(this,"registerCommand",n=>ve(this,null,function*(){const i=n,{action:s}=i,o=iu(i,["action"]),l=n.id;this.plugin.model[l]=s,yield this._call("registerCommand",o)})),ue(this,"registerSidebarButton",n=>ve(this,null,function*(){const{id:i,name:s,action:o}=n;this.plugin.model[i]=o,yield this._call("registerSidebarButton",{id:i,name:s})})),ue(this,"registerRemMenuItem",n=>ve(this,null,function*(){const{id:i,name:s,action:o}=n;this.plugin.model[i]=o,yield this._call("registerRemMenuItem",{id:i,name:s})})),ue(this,"registerMenuItem",n=>ve(this,null,function*(){const{id:i,name:s,action:o,location:l}=n;this.plugin.model[i]=o,yield this._call("registerMenuItem",{id:i,name:s,location:l})})),ue(this,"unregisterMenuItem",n=>ve(this,null,function*(){yield this._call("unregisterMenuItem",{id:n})})),ue(this,"stealKeys",n=>ve(this,null,function*(){yield this._call("stealKeys",{keys:n})})),ue(this,"releaseKeys",n=>ve(this,null,function*(){yield this._call("releaseKeys",{keys:n})})),ue(this,"registerCSS",(n,i)=>ve(this,null,function*(){yield this._call("registerCSS",{id:n,css:i})})),ue(this,"registerStatusBarItem",(n,i)=>ve(this,null,function*(){yield this._call("registerStatusBarItem",{id:n,html:i})})),ue(this,"getOperatingSystem",()=>ve(this,null,function*(){return yield this._call("getOperatingSystem",{})})),ue(this,"getPlatform",()=>ve(this,null,function*(){return yield this._call("getPlatform",{})})),ue(this,"registerCallback",(n,i)=>{this.plugin.model[n]=i}),ue(this,"transaction",n=>ve(this,null,function*(){const i=Math.random().toString();this.registerCallback(i,n);const s=yield this._call("transaction",{id:i});return delete this.plugin.model[i],s})),ue(this,"toast",n=>ve(this,null,function*(){yield this._call("toast",{message:n,options:{}})})),this.plugin=r}}a(vn,"AppNamespace");var au=Object.defineProperty,ou=a((e,t,r)=>t in e?au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"date_defNormalProp"),gs=a((e,t,r)=>(ou(e,typeof t!="symbol"?t+"":t,r),r),"date_publicField"),vs=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"date_async");const lu="date";class yn extends ae{constructor(t){super(t,lu),gs(this,"getDailyDoc",r=>vs(this,null,function*(){const n=yield this.call("getDailyDoc",{date:r});if(n)return new fe(n,this._call)})),gs(this,"getTodaysDoc",()=>vs(this,null,function*(){const r=yield this.call("getTodaysDoc",{});if(r)return new fe(r,this._call)}))}}a(yn,"DateNamespace");var uu=Object.defineProperty,ys=Object.getOwnPropertySymbols,cu=Object.prototype.hasOwnProperty,du=Object.prototype.propertyIsEnumerable,_n=a((e,t,r)=>t in e?uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"editor_defNormalProp"),fu=a((e,t)=>{for(var r in t||(t={}))cu.call(t,r)&&_n(e,r,t[r]);if(ys)for(var r of ys(t))du.call(t,r)&&_n(e,r,t[r]);return e},"editor_spreadValues"),oe=a((e,t,r)=>(_n(e,typeof t!="symbol"?t+"":t,r),r),"editor_publicField"),le=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"editor_async");const hu="editor";class wn extends ae{constructor(t){super(t,hu),oe(this,"setText",r=>le(this,null,function*(){return this.call("setText",{richText:r})})),oe(this,"copy",()=>le(this,null,function*(){return this.call("copy",{})})),oe(this,"cut",()=>le(this,null,function*(){return this.call("cut",{})})),oe(this,"deleteCharacters",(r,n)=>le(this,null,function*(){return this.call("deleteCharacters",{characters:r,direction:n})})),oe(this,"delete",()=>le(this,null,function*(){return this.call("delete",{})})),oe(this,"getSelectedRem",()=>le(this,null,function*(){const r=yield this.getSelection();return r&&r.type===Rr.Rem?r:void 0})),oe(this,"getSelectedText",()=>le(this,null,function*(){const r=yield this.getSelection();return r&&r.type===Rr.Text?r:void 0})),oe(this,"getSelection",()=>le(this,null,function*(){return this.call("getSelection",{})})),oe(this,"selectRem",(r,n)=>le(this,null,function*(){return this.call("setSelectedLines",{range:r,portalId:n})})),oe(this,"selectText",r=>le(this,null,function*(){return this.call("setSelectedRichText",fu({},r))})),oe(this,"collapseSelection",r=>le(this,null,function*(){return this.call("collapseSelection",{to:r})})),oe(this,"undo",()=>le(this,null,function*(){return this.call("undo",{})})),oe(this,"redo",()=>le(this,null,function*(){return this.call("redo",{})})),oe(this,"moveCaret",(r,n)=>le(this,null,function*(){return this.call("moveCaret",{amount:r,unit:n})})),oe(this,"moveCaretVertical",r=>le(this,null,function*(){return this.call("moveCaretVertical",{direction:r})})),oe(this,"getCaretPosition",()=>le(this,null,function*(){return this.call("getCaretPosition",{})})),oe(this,"insertPlainText",r=>le(this,null,function*(){return this.call("insertPlainText",{string:r})})),oe(this,"insertRichText",r=>le(this,null,function*(){return this.call("insertRichText",{richText:r})})),oe(this,"insertMarkdown",r=>le(this,null,function*(){return this.call("insertMarkdown",{markdown:r})})),oe(this,"getFocusedEditorText",()=>le(this,null,function*(){return this.call("getFocusedEditorText",{})}))}}a(wn,"EditorNamespace");var pu=Object.defineProperty,mu=a((e,t,r)=>t in e?pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"event_defNormalProp"),En=a((e,t,r)=>(mu(e,typeof t!="symbol"?t+"":t,r),r),"event_publicField");const gu="event";class xn extends ae{constructor(t,r){super(t,gu),En(this,"plugin"),En(this,"addListener",(n,i,s)=>{n in this.plugin.listeners||(this.plugin.listeners[n]=new Map),this.plugin.listeners[n].get(i)||this.plugin.listeners[n].set(i,[]),!this.plugin.listeners[n].get(i).includes(s)&&(this.plugin.listeners[n].get(i).push(s),this._call("events.addListener",{eventId:n,listenerKey:i}))}),En(this,"removeListener",(n,i,s)=>{const o=this.plugin.listeners[n];if(!o)return;const l=o.get(i);if(l){if(s){const u=l.indexOf(s);if(u==-1)return;l.splice(u,1)}else l.splice(0,l.length);l.length===0&&(o.delete(i),this._call("events.removeListener",{eventId:n,listenerKey:i}))}}),this.plugin=r}}a(xn,"EventNamespace");var vu=Object.defineProperty,yu=a((e,t,r)=>t in e?vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"focus_defNormalProp"),_s=a((e,t,r)=>(yu(e,typeof t!="symbol"?t+"":t,r),r),"focus_publicField"),ws=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"focus_async");const _u="focus";class Sn extends ae{constructor(t){super(t,_u),_s(this,"getFocusedRem",()=>ws(this,null,function*(){const r=yield this.call("getFocusedRem",{});return r?new fe(r,this._call):void 0})),_s(this,"getFocusedPortal",()=>ws(this,null,function*(){const r=yield this.call("getFocusedPortal",{});return r?new fe(r,this._call):void 0}))}}a(Sn,"FocusNamespace");var wu=Object.defineProperty,Eu=a((e,t,r)=>t in e?wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"knowledge_base_defNormalProp"),Cr=a((e,t,r)=>(Eu(e,typeof t!="symbol"?t+"":t,r),r),"knowledge_base_publicField"),Es=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"knowledge_base_async");const xu="kb";class Pn{constructor(t){Cr(this,"_call"),Cr(this,"call"),Cr(this,"getCurrentKnowledgeBaseData",()=>Es(this,null,function*(){return this.call("getCurrentKnowledgeBaseData",{})})),Cr(this,"isPrimaryKnowledgeBase",()=>Es(this,null,function*(){return this.call("isPrimaryKnowledgeBase",{})})),this._call=t,this.call=Di(this._call,xu)}}a(Pn,"KnowledgeBaseNamespace");var Su=Object.defineProperty,Pu=a((e,t,r)=>t in e?Su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"messaging_defNormalProp"),bu=a((e,t,r)=>(Pu(e,typeof t!="symbol"?t+"":t,r),r),"messaging_publicField"),Ru=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"messaging_async");const Tu="messaging";class bn extends ae{constructor(t){super(t,Tu),bu(this,"broadcast",r=>Ru(this,null,function*(){return this.call("broadcast",{message:r})}))}}a(bn,"MessagingNamespace");var Ou=Object.defineProperty,Au=a((e,t,r)=>t in e?Ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"powerup_defNormalProp"),xs=a((e,t,r)=>(Au(e,typeof t!="symbol"?t+"":t,r),r),"powerup_publicField"),Ss=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"powerup_async");const Cu="powerup";class Rn extends ae{constructor(t){super(t,Cu),xs(this,"getPowerupByCode",r=>Ss(this,null,function*(){const n=yield this.call("getPowerupByCode",{powerupCode:r});if(n)return new fe(n,this._call)})),xs(this,"getPowerupSlotByCode",(r,n)=>Ss(this,null,function*(){const i=Object.values(Et).includes(r)?Wt[r][n]:n,s=yield this.call("getPowerupSlotByCode",{powerupCode:r,powerupSlot:i});if(s)return new fe(s,this._call)}))}}a(Rn,"PowerupNamespace");class Ps{static and(t){return{exp:Q.And,exps:t}}static or(t){return{exp:Q.Or,exps:t}}static not(t){return{exp:Q.Not,exp1:t}}static cardInfo(t,r){return{exp:Q.GetCardInfo,cardField:t,exp1:r}}static tableColumn(t,r){return{exp:Q.GetSlot,slotRemId:t,exps:r}}static hasReferenceTo(t){return{exp:Q.Expression,refType:he.Reference,remId:t}}static text(t,r){return{exp:Q.Expression,refType:he.Text,text:r||"",matcherType:t}}static documentsThatContain(t){return{exp:Q.Expression,refType:he.Portal,remId:t}}static isTaggedWith(t){return{exp:Q.Expression,refType:he.Tag,remId:t}}static isDirectlyTaggedWith(t){return{exp:Q.Expression,refType:he.TagWithoutInheritance,remId:t}}static isDescendantOf(t){return{exp:Q.Expression,refType:he.IsDescendantOf,remId:t}}static isInDocument(t){return{exp:Q.Expression,refType:he.InDocument,remId:t}}static hasAnyConnectionTo(t){return{exp:Q.Expression,refType:he.Connection,remId:t}}static hasRemType(t){return{exp:Q.Expression,refType:he.RemType,remType:t}}static tagWithoutInheritance(t){return{exp:Q.Expression,refType:he.TagWithoutInheritance,remId:t}}static multiSelect(t,r){return{exp:Q.Expression,refType:he.MultiSelect,matcherType:t,remIds:r}}static singleSelect(t,r){return{exp:Q.Expression,refType:he.SingleSelect,matcherType:t,remIds:r}}static checkbox(t){return{exp:Q.Expression,refType:he.Checkbox,value:t}}static date(t,r,n){return{exp:Q.Expression,refType:he.Date,matcherType:t,date:typeof r=="string"||r==null?void 0:r.toISOString(),dateRelativeMatcher:typeof r=="string"?r:void 0,optionalDate:typeof n=="string"||n==null?void 0:n.toISOString(),optionalDateRelativeMatcher:typeof n=="string"?n:void 0}}static dateRelativeToToday(t,r,n){return{exp:Q.Expression,refType:he.Date,matcherType:or.IsRelativeToToday,relativeDateModifier:t,relativePeriodOffset:n,relativeDatePeriod:r}}static number(t,r){return{exp:Q.Expression,refType:he.Number,text:(r==null?void 0:r.toString())||"",matcherType:t}}}a(Ps,"Query_DUPE_2");var Du=Object.defineProperty,Nu=a((e,t,r)=>t in e?Du(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"queue_defNormalProp"),Fe=a((e,t,r)=>(Nu(e,typeof t!="symbol"?t+"":t,r),r),"queue_publicField"),je=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"queue_async");const ku="queue";class Tn extends ae{constructor(t){super(t,ku),Fe(this,"getAverageTimePerCard",()=>je(this,null,function*(){return yield this.call("getAverageTimePerCard",{})})),Fe(this,"getCurrentQueueScreenType",()=>je(this,null,function*(){return yield this.call("getCurrentQueueScreenType",{})})),Fe(this,"goBackToPreviousCard",()=>je(this,null,function*(){yield this.call("goBackToPreviousCard",{})})),Fe(this,"hasRevealedAnswer",()=>je(this,null,function*(){return yield this.call("hasRevealedAnswer",{})})),Fe(this,"showAnswer",()=>je(this,null,function*(){yield this.call("showAnswer",{})})),Fe(this,"rateCurrentCard",r=>je(this,null,function*(){yield this.call("rateCurrentCard",{score:r})})),Fe(this,"isTypeAnswerEnabled",()=>je(this,null,function*(){return yield this.call("isTypeAnswerEnabled",{})})),Fe(this,"getCurrentCard",()=>je(this,null,function*(){const r=yield this.call("getCurrentCard",{});return r?new wt(r,this._call):void 0})),Fe(this,"getNumRemainingCards",()=>je(this,null,function*(){return yield this.call("getNumRemainingCards",{})})),Fe(this,"getCurrentStreak",()=>je(this,null,function*(){return yield this.call("getCurrentStreak",{})})),Fe(this,"removeCurrentCardFromQueue",(r=!0)=>je(this,null,function*(){yield this.call("removeCurrentCardFromQueue",{addToBackStack:r})})),Fe(this,"inLookbackMode",()=>je(this,null,function*(){return yield this.call("inLookbackMode",{})}))}}a(Tn,"QueueNamespace");var Iu=Object.defineProperty,Mu=a((e,t,r)=>t in e?Iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"reader_defNormalProp"),Lu=a((e,t,r)=>(Mu(e,typeof t!="symbol"?t+"":t,r),r),"reader_publicField"),bs=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"reader_async");class On extends ae{constructor(t){super(t,"reader"),Lu(this,"callAndReturnRem",(r,n)=>bs(this,null,function*(){const i=yield this.call(r,n||{});if(i)return new fe(i,this._call)}))}addHighlight(){return bs(this,null,function*(){return this.callAndReturnRem("addHighlight")})}}a(On,"ReaderNamespace");var Fu=Object.defineProperty,ju=Object.defineProperties,Vu=Object.getOwnPropertyDescriptors,Rs=Object.getOwnPropertySymbols,Bu=Object.prototype.hasOwnProperty,Hu=Object.prototype.propertyIsEnumerable,An=a((e,t,r)=>t in e?Fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"rich_text_defNormalProp"),Wu=a((e,t)=>{for(var r in t||(t={}))Bu.call(t,r)&&An(e,r,t[r]);if(Rs)for(var r of Rs(t))Hu.call(t,r)&&An(e,r,t[r]);return e},"rich_text_spreadValues"),Uu=a((e,t)=>ju(e,Vu(t)),"rich_text_spreadProps"),F=a((e,t,r)=>(An(e,typeof t!="symbol"?t+"":t,r),r),"rich_text_publicField"),$=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"rich_text_async");const Zu="richText";class nt{constructor(t){F(this,"richText",[]),F(this,"richTextNamespace"),F(this,"code",(r,n)=>(this.richText.push({i:"m",code:!0,language:n,text:r}),this)),F(this,"image",(r,n,i)=>(this.richText.push({i:"i",url:r,width:n,height:i}),this)),F(this,"rem",r=>{const i={i:"q",_id:de(r)};return this.richText.push(i),this}),F(this,"text",(r,n=[])=>{if(n.length===0)return this.richText.push(r),this;const i=Object.fromEntries(n.map(s=>Tr[s]?["h",Tr[s]]:[Vi[s],!0])||[]);return this.richText.push(Uu(Wu({i:"m"},i),{text:r})),this}),F(this,"audio",r=>(this.richText.push({i:"a",url:r,onlyAudio:!0}),this)),F(this,"latex",(r,n=!1)=>(this.richText.push({i:"x",text:r,block:n}),this)),F(this,"video",r=>(this.richText.push({i:"a",url:r,onlyAudio:!1}),this)),F(this,"newline",()=>(this.richText.push(`
`),this)),F(this,"value",()=>this.richTextNamespace.normalize(this.richText)),this.richTextNamespace=t}}a(nt,"RichTextBuilder");class Cn extends ae{constructor(t){super(t,Zu),F(this,"indexOfElementAt",(r,n)=>$(this,null,function*(){return this.call("indexOfElementAt",{richText:r,position:n})})),F(this,"normalize",r=>$(this,null,function*(){return this.call("normalize",{richText:r})})),F(this,"removeTextFormatFromRange",(r,n,i,s)=>$(this,null,function*(){return this.call("removeTextFormatFromRange",{text:r,start:n,end:i,format:s})})),F(this,"applyTextFormatToRange",(r,n,i,s)=>$(this,null,function*(){return this.call("applyTextFormatToRange",{text:r,start:n,end:i,format:s})})),F(this,"toggleTextFormatOnRange",(r,n,i,s)=>$(this,null,function*(){return this.call("toggleTextFormatOnRange",{text:r,start:n,end:i,format:s})})),F(this,"replaceAllRichText",(r,n,i)=>$(this,null,function*(){return this.call("replaceAllRichText",{richText:r,findText:n,replacementText:i})})),F(this,"splitRichText",(r,n)=>$(this,null,function*(){return this.call("splitRichText",{richText:r,splitText:n})})),F(this,"empty",(r,n)=>$(this,null,function*(){return this.call("empty",{richText:r,allowSpaces:n})})),F(this,"indexOf",(r,n,i)=>$(this,null,function*(){return this.call("indexOf",{richText:r,character:n,startChar:i})})),F(this,"toHTML",r=>$(this,null,function*(){return this.call("toHTML",{richText:r})})),F(this,"length",r=>$(this,null,function*(){return this.call("length",{richText:r})})),F(this,"trimEnd",r=>$(this,null,function*(){return this.call("trimEnd",{richText:r})})),F(this,"trimStart",r=>$(this,null,function*(){return this.call("trimStart",{richText:r})})),F(this,"trim",r=>$(this,null,function*(){return this.call("trim",{richText:r})})),F(this,"split",(r,n)=>$(this,null,function*(){return this.call("split",{richText:r,separationCharacter:n})})),F(this,"deepGetRemAndAliasIdsFromRichText",r=>$(this,null,function*(){return this.call("deepGetRemAndAliasIdsFromRichText",{richText:r})})),F(this,"deepGetRemIdsFromRichText",r=>$(this,null,function*(){return this.call("deepGetRemIdsFromRichText",{richText:r})})),F(this,"findAllExternalURLs",r=>$(this,null,function*(){return this.call("findAllExternalURLs",{richText:r})})),F(this,"getRemAndAliasIdsFromRichText",r=>$(this,null,function*(){return this.call("getRemAndAliasIdsFromRichText",{richText:r})})),F(this,"getRemIdsFromRichText",r=>$(this,null,function*(){return this.call("getRemIdsFromRichText",{richText:r})})),F(this,"equals",(r,n)=>$(this,null,function*(){return this.call("equals",{richText1:r,richText2:n})})),F(this,"substring",(r,n,i)=>$(this,null,function*(){return this.call("substring",{richText:r,start:n,end:i})})),F(this,"charAt",(r,n)=>$(this,null,function*(){return this.call("charAt",{richText:r,index:n})})),F(this,"toString",r=>$(this,null,function*(){return this.call("toString",{richText:r})})),F(this,"toMarkdown",r=>$(this,null,function*(){return this.call("toMarkdown",{richText:r})})),F(this,"parseFromMarkdown",r=>$(this,null,function*(){return this.call("parseFromMarkdown",{markdown:r})})),F(this,"parseAndInsertHtml",(r,n)=>$(this,null,function*(){const i=de(n);return this.call("parseAndInsertHtml",{html:r,remId:i})}))}get code(){return new nt(this).code}get image(){return new nt(this).image}get rem(){return new nt(this).rem}get text(){return new nt(this).text}get audio(){return new nt(this).audio}get latex(){return new nt(this).latex}get video(){return new nt(this).video}get newline(){return new nt(this).newline}}a(Cn,"RichTextNamespace");const zu="scheduler";class Dn extends ae{constructor(t){super(t,zu)}registerCustomScheduler(t,r){return this.call("registerCustomScheduler",{name:t,parameters:r})}}a(Dn,"SchedulerNamespace");var $u=Object.defineProperty,qu=a((e,t,r)=>t in e?$u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"search_defNormalProp"),Gu=a((e,t,r)=>(qu(e,typeof t!="symbol"?t+"":t,r),r),"search_publicField"),Yu=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"search_async");const Xu="search";class Nn extends ae{constructor(t){super(t,Xu),Gu(this,"search",(r,n,i)=>Yu(this,null,function*(){const s=de(n);return((yield this.call("search",{queryText:r,searchContextRemId:s,options:i}))||[]).map(l=>new fe(l,this._call))}))}}a(Nn,"SearchNamespace");var Ku=Object.defineProperty,Ts=Object.getOwnPropertySymbols,Qu=Object.prototype.hasOwnProperty,Ju=Object.prototype.propertyIsEnumerable,kn=a((e,t,r)=>t in e?Ku(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"settings_defNormalProp"),Dr=a((e,t)=>{for(var r in t||(t={}))Qu.call(t,r)&&kn(e,r,t[r]);if(Ts)for(var r of Ts(t))Ju.call(t,r)&&kn(e,r,t[r]);return e},"settings_spreadValues"),ur=a((e,t,r)=>(kn(e,typeof t!="symbol"?t+"":t,r),r),"settings_publicField"),cr=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"settings_async");const ec="settings";class In extends ae{constructor(t){super(t,ec),ur(this,"registerDropdownSetting",r=>cr(this,null,function*(){return this.call("registerDropdownSetting",Dr({},r))})),ur(this,"registerBooleanSetting",r=>cr(this,null,function*(){return this.call("registerBooleanSetting",Dr({},r))})),ur(this,"registerStringSetting",r=>cr(this,null,function*(){return this.call("registerStringSetting",Dr({},r))})),ur(this,"registerNumberSetting",r=>cr(this,null,function*(){return this.call("registerNumberSetting",Dr({},r))})),ur(this,"getSetting",r=>cr(this,null,function*(){return yield this.call("getSetting",{settingId:r})}))}}a(In,"SettingsNamespace");var tc=Object.defineProperty,rc=a((e,t,r)=>t in e?tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"storage_defNormalProp"),Ut=a((e,t,r)=>(rc(e,typeof t!="symbol"?t+"":t,r),r),"storage_publicField"),Zt=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"storage_async");const nc="storage";class Mn extends ae{constructor(t){super(t,nc),Ut(this,"setSession",(r,n)=>Zt(this,null,function*(){return this.call("setSession",{key:r,value:n})})),Ut(this,"getSession",r=>Zt(this,null,function*(){if(r)return this.call("getSession",{key:r})})),Ut(this,"setSynced",(r,n)=>Zt(this,null,function*(){return this.call("setSynced",{key:r,value:n})})),Ut(this,"getSynced",r=>Zt(this,null,function*(){if(r)return this.call("getSynced",{key:r})})),Ut(this,"setLocal",(r,n)=>Zt(this,null,function*(){return this.call("setLocal",{key:r,value:n})})),Ut(this,"getLocal",r=>Zt(this,null,function*(){if(r)return this.call("getLocal",{key:r})}))}}a(Mn,"StorageNamespace");var ic=Object.defineProperty,sc=a((e,t,r)=>t in e?ic(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"widget_defNormalProp"),dr=a((e,t,r)=>(sc(e,typeof t!="symbol"?t+"":t,r),r),"widget_publicField"),fr=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"widget_async");const ac="widget";class Ln extends ae{constructor(t){super(t,ac),dr(this,"getWidgetsAtLocation",(r,n)=>fr(this,null,function*(){return this.call("getWidgetsAtLocation",{location:r,remId:n})})),dr(this,"getDimensions",r=>fr(this,null,function*(){return this.call("getDimensions",{widgetInstanceId:r})})),dr(this,"openPopup",(r,n,i)=>fr(this,null,function*(){return this.call("openPopup",{widgetFileName:r,contextData:n,clickOutsideToClose:i})})),dr(this,"closePopup",(r=!0)=>fr(this,null,function*(){return this.call("closePopup",{restoreFocus:r})})),dr(this,"getWidgetContext",()=>fr(this,null,function*(){return this.call("getWidgetContext",{})}))}}a(Ln,"WidgetNamespace");var oc=Object.defineProperty,lc=a((e,t,r)=>t in e?oc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"window_defNormalProp"),re=a((e,t,r)=>(lc(e,typeof t!="symbol"?t+"":t,r),r),"window_publicField"),ne=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"window_async");const uc="window";class Fn extends ae{constructor(t){super(t,uc),re(this,"stealKeys",(r,n)=>ne(this,null,function*(){yield this.call("stealKeys",{keys:n,id:r})})),re(this,"releaseKeys",(r,n)=>ne(this,null,function*(){yield this.call("releaseKeys",{keys:n,id:r})})),re(this,"openFloatingWidget",(r,n,i,s)=>ne(this,null,function*(){return yield this.call("openFloatingWidget",{fileName:r,position:n,classContainer:i,closeWhenClickOutside:s})})),re(this,"closeFloatingWidget",r=>ne(this,null,function*(){return yield this.call("closeFloatingWidget",{floatingWidgetId:r})})),re(this,"isFloatingWidgetOpen",r=>ne(this,null,function*(){return yield this.call("isFloatingWidgetOpen",{floatingWidgetId:r})})),re(this,"setFloatingWidgetPosition",(r,n)=>ne(this,null,function*(){return yield this.call("setFloatingWidgetPosition",{floatingWidgetId:r,position:n})})),re(this,"closeAllFloatingWidgets",()=>ne(this,null,function*(){return yield this.call("closeAllFloatingWidgets",{})})),re(this,"getCurrentWindowTree",()=>ne(this,null,function*(){return yield this.call("getCurrentWindowTree",{})})),re(this,"setRemWindowTree",r=>ne(this,null,function*(){return yield this.call("setRemWindowTree",{tree:r})})),re(this,"getLastFocusedPane",()=>ne(this,null,function*(){return yield this.call("getLastFocusedPane",{})})),re(this,"setCurrentWindowTreeFromString",r=>ne(this,null,function*(){return yield this.call("setCurrentWindowTreeFromString",{treeString:r})})),re(this,"getOpenPaneIds",()=>ne(this,null,function*(){return yield this.call("getOpenPaneIds",{})})),re(this,"getFocusedPaneId",()=>ne(this,null,function*(){return yield this.call("getFocusedPaneId",{})})),re(this,"setFocusedPaneId",r=>ne(this,null,function*(){return yield this.call("setFocusedPaneId",{paneId:r})})),re(this,"getURL",()=>ne(this,null,function*(){return yield this.call("getURL",{})})),re(this,"setURL",r=>ne(this,null,function*(){return yield this.call("setURL",{url:r})})),re(this,"openRem",r=>ne(this,null,function*(){return yield this.call("openRem",{remId:r._id})})),re(this,"getOpenPaneRemIds",()=>ne(this,null,function*(){return yield this.call("getOpenPaneRemIds",{})})),re(this,"getOpenPaneRemId",r=>ne(this,null,function*(){if(r)return yield this.call("getOpenPaneRemId",{paneId:r})})),re(this,"openWidgetInPane",(r,n)=>ne(this,null,function*(){return yield this.call("openWidgetInPane",{fileName:r,contextData:n})})),re(this,"openWidgetInRightSidebar",(r,n)=>ne(this,null,function*(){return yield this.call("openWidgetInRightSidebar",{fileName:r,contextData:n})})),re(this,"isOnPage",r=>ne(this,null,function*(){return yield this.call("isOnPage",{page:r})}))}}a(Fn,"WindowNamespace");var cc=Object.defineProperty,Os=Object.getOwnPropertySymbols,dc=Object.prototype.hasOwnProperty,fc=Object.prototype.propertyIsEnumerable,jn=a((e,t,r)=>t in e?cc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"plugin_base_defNormalProp"),hc=a((e,t)=>{for(var r in t||(t={}))dc.call(t,r)&&jn(e,r,t[r]);if(Os)for(var r of Os(t))fc.call(t,r)&&jn(e,r,t[r]);return e},"plugin_base_spreadValues"),H=a((e,t,r)=>(jn(e,typeof t!="symbol"?t+"":t,r),r),"plugin_base_publicField"),Ve=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"plugin_base_async");class Vn{constructor(){H(this,"apiCallPromise",{}),H(this,"model",{}),H(this,"listeners",{}),H(this,"usedMessageIds",1),H(this,"widgetInstanceId"),H(this,"inSandbox"),H(this,"isNative"),H(this,"rootURL"),H(this,"mountDiv"),H(this,"widgetBodyResizeObserver",null),H(this,"widgetOptions"),H(this,"manifest"),H(this,"id"),H(this,"app",new vn(this._call.bind(this),this)),H(this,"editor",new wn(this._call.bind(this))),H(this,"event",new xn(this._call.bind(this),this)),H(this,"messaging",new bn(this._call.bind(this))),H(this,"focus",new Sn(this._call.bind(this))),H(this,"date",new yn(this._call.bind(this))),H(this,"widget",new Ln(this._call.bind(this))),H(this,"window",new Fn(this._call.bind(this))),H(this,"powerup",new Rn(this._call.bind(this))),H(this,"richText",new Cn(this._call.bind(this))),H(this,"rem",new Kr(this._call.bind(this))),H(this,"card",new tn(this._call.bind(this))),H(this,"storage",new Mn(this._call.bind(this))),H(this,"settings",new In(this._call.bind(this))),H(this,"search",new Nn(this._call.bind(this))),H(this,"kb",new Pn(this._call.bind(this))),H(this,"scheduler",new Dn(this._call.bind(this))),H(this,"queue",new Tn(this._call.bind(this))),H(this,"reader",new On(this._call.bind(this))),window.onmessage=t=>{this._receive(t)},this.pluginLogger=ps()(`plugin:${this.id||"Plugin"}`),this.logApi=ps()(`plugin:API:${this.id||"Plugin"}`),this.logApi("START"),this.event.addListener(C.onActivate,void 0,this.receiveActivateMessage.bind(this)),this.event.addListener(C.onDeactivate,void 0,this.receiveDeactivateMessage.bind(this)),this.event.addListener(C.setDarkMode,void 0,this.setDarkMode.bind(this)),this.event.addListener(C.setCustomCSS,void 0,this.setCustomCSS.bind(this)),this._call("askToActivate",{})}pluginLogger(...t){}logApi(...t){}setDarkMode({darkMode:t}){this.inSandbox&&(document.body.classList.add(t?"dark":"light"),document.body.classList.remove(t?"light":"dark"))}setCustomCSS({cssBlocks:t,cssUrls:r}){const n=document.getElementsByTagName("head")[0];for(const i of[...n.children])i.classList.contains("custom-css")&&i.remove();for(const i of t){const s=document.createElement("style");s.classList.add("custom-css"),s.innerHTML=i,n.appendChild(s)}for(const i of r){const s=document.createElement("link");s.classList.add("custom-css"),s.rel="stylesheet",s.href=i,n.appendChild(s)}}track(t){let r=!1,n=!1,i=!1,s=[];const o=a(()=>{if(r){for(const{event:l,key:u}of s.flatMap(c=>c.reactiveDeps))this.event.removeListener(l,u,o);return}else n?i=!0:(n=!0,a(()=>Ve(this,null,function*(){s=yield wi(this,t,o,()=>{},s||[]),n=!1,i&&(i=!1,o())}),"effect")())},"run");return o(),()=>{r=!0}}loadManifest(){return Ve(this,null,function*(){if(!this.manifest)try{const t=yield fetch(this.rootURL+"manifest.json");if(t.ok){const r=yield t.json();this.manifest=r,this.id=r.id}}catch(t){console.log("Failed to load manifest.json",t)}})}receiveActivateMessage(t){return Ve(this,null,function*(){var r,n,i,s,o;if(!t.inSandbox&&!((r=window.activeWidgetIds)!=null&&r.has(t.widgetInstanceId))){console.error("Not activating widget",t.widgetInstanceId,"as it is already unmounted");return}if(!t.inSandbox&&!t.mountDiv)throw new Error("Native plugin didn't receive mountDiv");const l=t.inSandbox?this.createMountDiv():t.mountDiv;this.inSandbox=t.inSandbox,this.isNative=!t.inSandbox,this.widgetOptions=t.widgetOptions,this.widgetInstanceId=t.widgetInstanceId,this.rootURL=t.rootURL,this.mountDiv=l,yield this.loadManifest(),this.isNative&&(window.widgetIdToWidget[this.widgetInstanceId]=this),this.onActivate(l,t.rootURL);const u=(i=(n=t.widgetOptions)==null?void 0:n.dimensions)==null?void 0:i.height,c=(o=(s=t.widgetOptions)==null?void 0:s.dimensions)==null?void 0:o.width;if(c=="auto"&&t.inSandbox&&(l.style.display="inline-block"),(u==="auto"||c==="auto")&&this.autoAdjustWidgetContainerDimension(),t.inSandbox&&(u==="auto"&&(document.documentElement.style.overflowY="hidden"),c==="auto"&&(document.documentElement.style.overflowX="hidden")),t.inSandbox)for(const g of t.styleSheetHREFs){const P=document.createElement("link");P.href=g,P.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(P)}yield this._call("activateCompleted",{})})}receiveDeactivateMessage(t){return Ve(this,null,function*(){this.widgetBodyResizeObserver&&this.widgetBodyResizeObserver.disconnect(),this.onDeactivate()})}createMountDiv(){const t=document.createElement("div");return document.body.appendChild(t),t}log(...t){this.pluginLogger(t)}_call(t,r,n){return Ve(this,null,function*(){const i=this.usedMessageIds++;typeof n=="string"?t=n+"."+t:typeof n=="object"&&(t=[...n,t].join("."));const s={pluginId:this.id,widgetInstanceId:this.widgetInstanceId,methodName:t,args:r,messageId:i,isIntendedForRemNoteAPIMain:!0};this.logApi("Call",i);const o=this.isNative?window:window.parent,u=yield new Promise(c=>{this.apiCallPromise[i]=c;try{o.postMessage(s,"*")}catch(g){console.error(`Failed to call plugin method with arguments: ${t} ${r}`)}});if(this.logApi("Got response",u),u!=null&&u.error)throw new Error("Plugin Error: "+u.error);return u==null?void 0:u.response})}_receive(t){return Ve(this,null,function*(){var r,n,i;if((r=t.data)!=null&&r.isIntendedForRemNoteAPIPlugin){const s=t.data;if("messageId"in s){const o=s.messageId;this.logApi("API _receive",o,s,this.apiCallPromise[o]),this.apiCallPromise[o](s),delete this.apiCallPromise[o]}else if("callbackId"in s){const o=this.model[s.callbackId];o||console.error(`Tried to execute callback ${s.callbackId}, but it was not registered`);const l=yield o==null?void 0:o(s.args);s.callbackReturnValueHandlerId&&this._call("handleCallbackResponse",{result:l,callbackReturnValueHandlerId:s.callbackReturnValueHandlerId},"callback")}else if("eventId"in s){if(!Ee(s.eventId))throw new Error("Invalid event "+s.eventId);(i=(n=this.listeners[s.eventId])==null?void 0:n.get(s.listenerKey))==null||i.forEach(o=>o(s.args))}}})}autoAdjustWidgetContainerDimension(){return Ve(this,null,function*(){const t=new ResizeObserver(n=>{for(let i of n)if(i.contentBoxSize){const s=window.getComputedStyle(i.target),o=parseFloat(s.getPropertyValue("margin-block-start"))||0,l=parseFloat(s.getPropertyValue("margin-block-end"))||0,u=parseFloat(s.getPropertyValue("margin-inline-start"))||0,c=parseFloat(s.getPropertyValue("margin-inline-end"))||0,g={height:i.contentBoxSize[0].blockSize+o+l,width:i.contentBoxSize[0].inlineSize+u+c};this._call("widgetEvents.updateWidgetContainerDimension",g)}}),r=this.inSandbox?this.mountDiv:this.mountDiv.firstChild;r&&(t.observe(r),this.widgetBodyResizeObserver=t)})}createFakeEmbedComponent(t){return Ve(this,null,function*(){return this._call("widgetEvents.createFakeEmbedComponent",t)})}unmountFakeEmbedComponent(t){return Ve(this,null,function*(){return this._call("widgetEvents.unmountFakeEmbedComponent",{id:t})})}updateFakeEmbedComponentRect(t,r){return Ve(this,null,function*(){return this._call("widgetEvents.updateFakeEmbedComponentRect",hc({id:t},r))})}updateFakeEmbedExternalProps(t,r){return Ve(this,null,function*(){return this._call("widgetEvents.updateFakeEmbedExternalProps",{id:t,externalProps:r})})}ping(){return Ve(this,null,function*(){return yield this._call("ping",{})})}}a(Vn,"RNPlugin");var Y=te(232);let pc=a(e=>crypto.getRandomValues(new Uint8Array(e)),"random"),mc=a((e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(s=t)=>{let o="";for(;;){let l=r(i),u=i;for(;u--;)if(o+=e[l[u]&n]||"",o.length===s)return o}}},"customRandom"),vh=a((e,t=21)=>mc(e,t,pc),"customAlphabet"),gc=a((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),""),"nanoid");var w=te(359),As=te.n(w),Cs="1.13.6",Ds=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Nr=Array.prototype,Bn=Object.prototype,Ns=typeof Symbol!="undefined"?Symbol.prototype:null,vc=Nr.push,hr=Nr.slice,pr=Bn.toString,yc=Bn.hasOwnProperty,ks=typeof ArrayBuffer!="undefined",_c=typeof DataView!="undefined",wc=Array.isArray,Is=Object.keys,Ms=Object.create,Ls=ks&&ArrayBuffer.isView,Ec=isNaN,xc=isFinite,Fs=!{toString:null}.propertyIsEnumerable("toString"),js=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Sc=Math.pow(2,53)-1;function be(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=n,e.apply(this,s)}}a(be,"restArguments");function xt(e){var t=typeof e;return t==="function"||t==="object"&&!!e}a(xt,"isObject");function Pc(e){return e===null}a(Pc,"isNull");function Vs(e){return e===void 0}a(Vs,"isUndefined");function Bs(e){return e===!0||e===!1||pr.call(e)==="[object Boolean]"}a(Bs,"isBoolean");function bc(e){return!!(e&&e.nodeType===1)}a(bc,"isElement");function _e(e){var t="[object "+e+"]";return function(r){return pr.call(r)===t}}a(_e,"tagTester");var Hn=_e("String"),Hs=_e("Number"),Rc=_e("Date"),Tc=_e("RegExp"),Oc=_e("Error"),Ws=_e("Symbol"),Us=_e("ArrayBuffer"),Zs=_e("Function"),Ac=Ds.document&&Ds.document.childNodes;typeof Int8Array!="object"&&typeof Ac!="function"&&(Zs=a(function(e){return typeof e=="function"||!1},"isFunction"));var Se=Zs,zs=_e("Object"),$s=_c&&zs(new DataView(new ArrayBuffer(8))),Wn=typeof Map!="undefined"&&zs(new Map),Cc=_e("DataView");function Dc(e){return e!=null&&Se(e.getInt8)&&Us(e.buffer)}a(Dc,"ie10IsDataView");var kr=$s?Dc:Cc,St=wc||_e("Array");function mt(e,t){return e!=null&&yc.call(e,t)}a(mt,"has");var Un=_e("Arguments");(function(){Un(arguments)||(Un=a(function(e){return mt(e,"callee")},"isArguments"))})();var Zn=Un;function Nc(e){return!Ws(e)&&xc(e)&&!isNaN(parseFloat(e))}a(Nc,"isFinite_isFinite");function qs(e){return Hs(e)&&Ec(e)}a(qs,"isNaN_isNaN");function Gs(e){return function(){return e}}a(Gs,"constant");function Ys(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=Sc}}a(Ys,"createSizePropertyCheck");function Xs(e){return function(t){return t==null?void 0:t[e]}}a(Xs,"shallowProperty");var Ir=Xs("byteLength"),kc=Ys(Ir),Ic=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Mc(e){return Ls?Ls(e)&&!kr(e):kc(e)&&Ic.test(pr.call(e))}a(Mc,"isTypedArray");var Ks=ks?Mc:Gs(!1),Re=Xs("length");function Lc(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}a(Lc,"emulatedSet");function Qs(e,t){t=Lc(t);var r=js.length,n=e.constructor,i=Se(n)&&n.prototype||Bn,s="constructor";for(mt(e,s)&&!t.contains(s)&&t.push(s);r--;)s=js[r],s in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}a(Qs,"collectNonEnumProps");function pe(e){if(!xt(e))return[];if(Is)return Is(e);var t=[];for(var r in e)mt(e,r)&&t.push(r);return Fs&&Qs(e,t),t}a(pe,"keys");function Fc(e){if(e==null)return!0;var t=Re(e);return typeof t=="number"&&(St(e)||Hn(e)||Zn(e))?t===0:Re(pe(e))===0}a(Fc,"isEmpty");function Js(e,t){var r=pe(t),n=r.length;if(e==null)return!n;for(var i=Object(e),s=0;s<n;s++){var o=r[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}a(Js,"isMatch");function Z(e){if(e instanceof Z)return e;if(!(this instanceof Z))return new Z(e);this._wrapped=e}a(Z,"_"),Z.VERSION=Cs,Z.prototype.value=function(){return this._wrapped},Z.prototype.valueOf=Z.prototype.toJSON=Z.prototype.value,Z.prototype.toString=function(){return String(this._wrapped)};function ea(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Ir(e))}a(ea,"toBufferView");var ta="[object DataView]";function zn(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:ra(e,t,r,n)}a(zn,"eq");function ra(e,t,r,n){e instanceof Z&&(e=e._wrapped),t instanceof Z&&(t=t._wrapped);var i=pr.call(e);if(i!==pr.call(t))return!1;if($s&&i=="[object Object]"&&kr(e)){if(!kr(t))return!1;i=ta}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return Ns.valueOf.call(e)===Ns.valueOf.call(t);case"[object ArrayBuffer]":case ta:return ra(ea(e),ea(t),r,n)}var s=i==="[object Array]";if(!s&&Ks(e)){var o=Ir(e);if(o!==Ir(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(Se(l)&&l instanceof l&&Se(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var c=r.length;c--;)if(r[c]===e)return n[c]===t;if(r.push(e),n.push(t),s){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!zn(e[c],t[c],r,n))return!1}else{var g=pe(e),P;if(c=g.length,pe(t).length!==c)return!1;for(;c--;)if(P=g[c],!(mt(t,P)&&zn(e[P],t[P],r,n)))return!1}return r.pop(),n.pop(),!0}a(ra,"deepEq");function jc(e,t){return zn(e,t)}a(jc,"isEqual");function mr(e){if(!xt(e))return[];var t=[];for(var r in e)t.push(r);return Fs&&Qs(e,t),t}a(mr,"allKeys");function $n(e){var t=Re(e);return function(r){if(r==null)return!1;var n=mr(r);if(Re(n))return!1;for(var i=0;i<t;i++)if(!Se(r[e[i]]))return!1;return e!==sa||!Se(r[qn])}}a($n,"ie11fingerprint");var qn="forEach",na="has",Gn=["clear","delete"],ia=["get",na,"set"],Vc=Gn.concat(qn,ia),sa=Gn.concat(ia),Bc=["add"].concat(Gn,qn,na),Hc=Wn?$n(Vc):_e("Map"),Wc=Wn?$n(sa):_e("WeakMap"),Uc=Wn?$n(Bc):_e("Set"),Zc=_e("WeakSet");function zt(e){for(var t=pe(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}a(zt,"values");function zc(e){for(var t=pe(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}a(zc,"pairs");function aa(e){for(var t={},r=pe(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}a(aa,"invert");function Yn(e){var t=[];for(var r in e)Se(e[r])&&t.push(r);return t.sort()}a(Yn,"functions");function Xn(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var s=arguments[i],o=e(s),l=o.length,u=0;u<l;u++){var c=o[u];(!t||r[c]===void 0)&&(r[c]=s[c])}return r}}a(Xn,"createAssigner");var oa=Xn(mr),Mr=Xn(pe),la=Xn(mr,!0);function $c(){return function(){}}a($c,"ctor");function ua(e){if(!xt(e))return{};if(Ms)return Ms(e);var t=$c();t.prototype=e;var r=new t;return t.prototype=null,r}a(ua,"baseCreate");function qc(e,t){var r=ua(e);return t&&Mr(r,t),r}a(qc,"create");function Gc(e){return xt(e)?St(e)?e.slice():oa({},e):e}a(Gc,"clone");function Yc(e,t){return t(e),e}a(Yc,"tap");function ca(e){return St(e)?e:[e]}a(ca,"toPath"),Z.toPath=ca;function gr(e){return Z.toPath(e)}a(gr,"_toPath_toPath");function Kn(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}a(Kn,"deepGet");function da(e,t,r){var n=Kn(e,gr(t));return Vs(n)?r:n}a(da,"get");function Xc(e,t){t=gr(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!mt(e,i))return!1;e=e[i]}return!!r}a(Xc,"has_has");function Qn(e){return e}a(Qn,"identity");function vr(e){return e=Mr({},e),function(t){return Js(t,e)}}a(vr,"matcher");function Jn(e){return e=gr(e),function(t){return Kn(t,e)}}a(Jn,"property");function yr(e,t,r){if(t===void 0)return e;switch(r==null?3:r){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,o){return e.call(t,n,i,s,o)}}return function(){return e.apply(t,arguments)}}a(yr,"optimizeCb");function fa(e,t,r){return e==null?Qn:Se(e)?yr(e,t,r):xt(e)&&!St(e)?vr(e):Jn(e)}a(fa,"baseIteratee");function ei(e,t){return fa(e,t,1/0)}a(ei,"iteratee"),Z.iteratee=ei;function Te(e,t,r){return Z.iteratee!==ei?Z.iteratee(e,t):fa(e,t,r)}a(Te,"cb");function Kc(e,t,r){t=Te(t,r);for(var n=pe(e),i=n.length,s={},o=0;o<i;o++){var l=n[o];s[l]=t(e[l],l,e)}return s}a(Kc,"mapObject");function ha(){}a(ha,"noop");function Qc(e){return e==null?ha:function(t){return da(e,t)}}a(Qc,"propertyOf");function Jc(e,t,r){var n=Array(Math.max(0,e));t=yr(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}a(Jc,"times");function ti(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}a(ti,"random_random");var _r=Date.now||function(){return new Date().getTime()};function pa(e){var t=a(function(s){return e[s]},"escaper"),r="(?:"+pe(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(i,t):s}}a(pa,"createEscaper");var ma={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ed=pa(ma),td=aa(ma),rd=pa(td),nd=Z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ri=/(.)^/,id={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},sd=/\\|'|\r|\n|\u2028|\u2029/g;function ad(e){return"\\"+id[e]}a(ad,"escapeChar");var od=/^\s*(\w|\$)+\s*$/;function ld(e,t,r){!t&&r&&(t=r),t=la({},t,Z.templateSettings);var n=RegExp([(t.escape||ri).source,(t.interpolate||ri).source,(t.evaluate||ri).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(n,function(c,g,P,Oe,I){return s+=e.slice(i,I).replace(sd,ad),i=I+c.length,g?s+=`'+
((__t=(`+g+`))==null?'':_.escape(__t))+
'`:P?s+=`'+
((__t=(`+P+`))==null?'':__t)+
'`:Oe&&(s+=`';
`+Oe+`
__p+='`),c}),s+=`';
`;var o=t.variable;if(o){if(!od.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var l;try{l=new Function(o,"_",s)}catch(c){throw c.source=s,c}var u=a(function(c){return l.call(this,c,Z)},"template");return u.source="function("+o+`){
`+s+"}",u}a(ld,"template");function ud(e,t,r){t=gr(t);var n=t.length;if(!n)return Se(r)?r.call(e):r;for(var i=0;i<n;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=r,i=n),e=Se(s)?s.call(e):s}return e}a(ud,"result");var cd=0;function dd(e){var t=++cd+"";return e?e+t:t}a(dd,"uniqueId");function fd(e){var t=Z(e);return t._chain=!0,t}a(fd,"chain");function ga(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var s=ua(e.prototype),o=e.apply(s,i);return xt(o)?o:s}a(ga,"executeBound");var ni=be(function(e,t){var r=ni.placeholder,n=a(function(){for(var i=0,s=t.length,o=Array(s),l=0;l<s;l++)o[l]=t[l]===r?arguments[i++]:t[l];for(;i<arguments.length;)o.push(arguments[i++]);return ga(e,n,this,this,o)},"bound");return n});ni.placeholder=Z;var Lr=ni,va=be(function(e,t,r){if(!Se(e))throw new TypeError("Bind must be called on a function");var n=be(function(i){return ga(e,n,t,this,r.concat(i))});return n}),Ne=Ys(Re);function Pt(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,s=0,o=Re(e);s<o;s++){var l=e[s];if(Ne(l)&&(St(l)||Zn(l)))if(t>1)Pt(l,t-1,r,n),i=n.length;else for(var u=0,c=l.length;u<c;)n[i++]=l[u++];else r||(n[i++]=l)}return n}a(Pt,"flatten");var hd=be(function(e,t){t=Pt(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=va(e[n],e)}return e});function pd(e,t){var r=a(function(n){var i=r.cache,s=""+(t?t.apply(this,arguments):n);return mt(i,s)||(i[s]=e.apply(this,arguments)),i[s]},"memoize");return r.cache={},r}a(pd,"memoize");var ya=be(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),md=Lr(ya,Z,1);function gd(e,t,r){var n,i,s,o,l=0;r||(r={});var u=a(function(){l=r.leading===!1?0:_r(),n=null,o=e.apply(i,s),n||(i=s=null)},"later"),c=a(function(){var g=_r();!l&&r.leading===!1&&(l=g);var P=t-(g-l);return i=this,s=arguments,P<=0||P>t?(n&&(clearTimeout(n),n=null),l=g,o=e.apply(i,s),n||(i=s=null)):!n&&r.trailing!==!1&&(n=setTimeout(u,P)),o},"throttled");return c.cancel=function(){clearTimeout(n),l=0,n=i=s=null},c}a(gd,"throttle");function vd(e,t,r){var n,i,s,o,l,u=a(function(){var g=_r()-i;t>g?n=setTimeout(u,t-g):(n=null,r||(o=e.apply(l,s)),n||(s=l=null))},"later"),c=be(function(g){return l=this,s=g,i=_r(),n||(n=setTimeout(u,t),r&&(o=e.apply(l,s))),o});return c.cancel=function(){clearTimeout(n),n=s=l=null},c}a(vd,"debounce");function yd(e,t){return Lr(t,e)}a(yd,"wrap");function ii(e){return function(){return!e.apply(this,arguments)}}a(ii,"negate");function _d(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}a(_d,"compose");function wd(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}a(wd,"after");function _a(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}a(_a,"before");var Ed=Lr(_a,2);function wa(e,t,r){t=Te(t,r);for(var n=pe(e),i,s=0,o=n.length;s<o;s++)if(i=n[s],t(e[i],i,e))return i}a(wa,"findKey");function Ea(e){return function(t,r,n){r=Te(r,n);for(var i=Re(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(r(t[s],s,t))return s;return-1}}a(Ea,"createPredicateIndexFinder");var si=Ea(1),xa=Ea(-1);function Sa(e,t,r,n){r=Te(r,n,1);for(var i=r(t),s=0,o=Re(e);s<o;){var l=Math.floor((s+o)/2);r(e[l])<i?s=l+1:o=l}return s}a(Sa,"sortedIndex");function Pa(e,t,r){return function(n,i,s){var o=0,l=Re(n);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+l,o):l=s>=0?Math.min(s+1,l):s+l+1;else if(r&&s&&l)return s=r(n,i),n[s]===i?s:-1;if(i!==i)return s=t(hr.call(n,o,l),qs),s>=0?s+o:-1;for(s=e>0?o:l-1;s>=0&&s<l;s+=e)if(n[s]===i)return s;return-1}}a(Pa,"createIndexFinder");var ba=Pa(1,si,Sa),xd=Pa(-1,xa);function ai(e,t,r){var n=Ne(e)?si:wa,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}a(ai,"find");function Sd(e,t){return ai(e,vr(t))}a(Sd,"findWhere");function it(e,t,r){t=yr(t,r);var n,i;if(Ne(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var s=pe(e);for(n=0,i=s.length;n<i;n++)t(e[s[n]],s[n],e)}return e}a(it,"each");function bt(e,t,r){t=Te(t,r);for(var n=!Ne(e)&&pe(e),i=(n||e).length,s=Array(i),o=0;o<i;o++){var l=n?n[o]:o;s[o]=t(e[l],l,e)}return s}a(bt,"map");function Ra(e){var t=a(function(r,n,i,s){var o=!Ne(r)&&pe(r),l=(o||r).length,u=e>0?0:l-1;for(s||(i=r[o?o[u]:u],u+=e);u>=0&&u<l;u+=e){var c=o?o[u]:u;i=n(i,r[c],c,r)}return i},"reducer");return function(r,n,i,s){var o=arguments.length>=3;return t(r,yr(n,s,4),i,o)}}a(Ra,"createReduce");var oi=Ra(1),Ta=Ra(-1);function $t(e,t,r){var n=[];return t=Te(t,r),it(e,function(i,s,o){t(i,s,o)&&n.push(i)}),n}a($t,"filter");function Pd(e,t,r){return $t(e,ii(Te(t)),r)}a(Pd,"reject");function Oa(e,t,r){t=Te(t,r);for(var n=!Ne(e)&&pe(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(!t(e[o],o,e))return!1}return!0}a(Oa,"every");function Aa(e,t,r){t=Te(t,r);for(var n=!Ne(e)&&pe(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(t(e[o],o,e))return!0}return!1}a(Aa,"some");function st(e,t,r,n){return Ne(e)||(e=zt(e)),(typeof r!="number"||n)&&(r=0),ba(e,t,r)>=0}a(st,"contains");var bd=be(function(e,t,r){var n,i;return Se(t)?i=t:(t=gr(t),n=t.slice(0,-1),t=t[t.length-1]),bt(e,function(s){var o=i;if(!o){if(n&&n.length&&(s=Kn(s,n)),s==null)return;o=s[t]}return o==null?o:o.apply(s,r)})});function li(e,t){return bt(e,Jn(t))}a(li,"pluck");function Rd(e,t){return $t(e,vr(t))}a(Rd,"where");function Ca(e,t,r){var n=-1/0,i=-1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Ne(e)?e:zt(e);for(var l=0,u=e.length;l<u;l++)s=e[l],s!=null&&s>n&&(n=s)}else t=Te(t,r),it(e,function(c,g,P){o=t(c,g,P),(o>i||o===-1/0&&n===-1/0)&&(n=c,i=o)});return n}a(Ca,"max");function Td(e,t,r){var n=1/0,i=1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Ne(e)?e:zt(e);for(var l=0,u=e.length;l<u;l++)s=e[l],s!=null&&s<n&&(n=s)}else t=Te(t,r),it(e,function(c,g,P){o=t(c,g,P),(o<i||o===1/0&&n===1/0)&&(n=c,i=o)});return n}a(Td,"min");var Od=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Da(e){return e?St(e)?hr.call(e):Hn(e)?e.match(Od):Ne(e)?bt(e,Qn):zt(e):[]}a(Da,"toArray");function Na(e,t,r){if(t==null||r)return Ne(e)||(e=zt(e)),e[ti(e.length-1)];var n=Da(e),i=Re(n);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var l=ti(o,s),u=n[o];n[o]=n[l],n[l]=u}return n.slice(0,t)}a(Na,"sample");function Ad(e){return Na(e,1/0)}a(Ad,"shuffle");function Cd(e,t,r){var n=0;return t=Te(t,r),li(bt(e,function(i,s,o){return{value:i,index:n++,criteria:t(i,s,o)}}).sort(function(i,s){var o=i.criteria,l=s.criteria;if(o!==l){if(o>l||o===void 0)return 1;if(o<l||l===void 0)return-1}return i.index-s.index}),"value")}a(Cd,"sortBy");function Fr(e,t){return function(r,n,i){var s=t?[[],[]]:{};return n=Te(n,i),it(r,function(o,l){var u=n(o,l,r);e(s,o,u)}),s}}a(Fr,"group");var Dd=Fr(function(e,t,r){mt(e,r)?e[r].push(t):e[r]=[t]}),Nd=Fr(function(e,t,r){e[r]=t}),kd=Fr(function(e,t,r){mt(e,r)?e[r]++:e[r]=1}),Id=Fr(function(e,t,r){e[r?0:1].push(t)},!0);function Md(e){return e==null?0:Ne(e)?e.length:pe(e).length}a(Md,"size");function Ld(e,t,r){return t in r}a(Ld,"keyInObj");var ka=be(function(e,t){var r={},n=t[0];if(e==null)return r;Se(n)?(t.length>1&&(n=yr(n,t[1])),t=mr(e)):(n=Ld,t=Pt(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],l=e[o];n(l,o,e)&&(r[o]=l)}return r}),Fd=be(function(e,t){var r=t[0],n;return Se(r)?(r=ii(r),t.length>1&&(n=t[1])):(t=bt(Pt(t,!1,!1),String),r=a(function(i,s){return!st(t,s)},"iteratee")),ka(e,r,n)});function Ia(e,t,r){return hr.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}a(Ia,"initial");function ui(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:Ia(e,e.length-t)}a(ui,"first");function jr(e,t,r){return hr.call(e,t==null||r?1:t)}a(jr,"rest");function jd(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:jr(e,Math.max(0,e.length-t))}a(jd,"last");function Vd(e){return $t(e,Boolean)}a(Vd,"compact");function Bd(e,t){return Pt(e,t,!1)}a(Bd,"flatten_flatten");var Ma=be(function(e,t){return t=Pt(t,!0,!0),$t(e,function(r){return!st(t,r)})}),Hd=be(function(e,t){return Ma(e,t)});function ci(e,t,r,n){Bs(t)||(n=r,r=t,t=!1),r!=null&&(r=Te(r,n));for(var i=[],s=[],o=0,l=Re(e);o<l;o++){var u=e[o],c=r?r(u,o,e):u;t&&!r?((!o||s!==c)&&i.push(u),s=c):r?st(s,c)||(s.push(c),i.push(u)):st(i,u)||i.push(u)}return i}a(ci,"uniq");var Wd=be(function(e){return ci(Pt(e,!0,!0))});function Ud(e){for(var t=[],r=arguments.length,n=0,i=Re(e);n<i;n++){var s=e[n];if(!st(t,s)){var o;for(o=1;o<r&&st(arguments[o],s);o++);o===r&&t.push(s)}}return t}a(Ud,"intersection");function di(e){for(var t=e&&Ca(e,Re).length||0,r=Array(t),n=0;n<t;n++)r[n]=li(e,n);return r}a(di,"unzip");var Zd=be(di);function zd(e,t){for(var r={},n=0,i=Re(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}a(zd,"object");function $d(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),s=0;s<n;s++,e+=r)i[s]=e;return i}a($d,"range");function qd(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(hr.call(e,n,n+=t));return r}a(qd,"chunk");function fi(e,t){return e._chain?Z(t).chain():t}a(fi,"chainResult");function La(e){return it(Yn(e),function(t){var r=Z[t]=e[t];Z.prototype[t]=function(){var n=[this._wrapped];return vc.apply(n,arguments),fi(this,r.apply(Z,n))}}),Z}a(La,"mixin"),it(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Nr[e];Z.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),fi(this,r)}}),it(["concat","join","slice"],function(e){var t=Nr[e];Z.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),fi(this,r)}});var Gd=Z,hi=La(M);hi._=hi;var pi=hi,Yd=Object.defineProperty,Xd=a((e,t,r)=>t in e?Yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"AncestorScrollDetector_defNormalProp"),mi=a((e,t,r)=>(Xd(e,typeof t!="symbol"?t+"":t,r),r),"AncestorScrollDetector_publicField");class Fa{constructor(t){mi(this,"tree",new Map),mi(this,"rootNode"),mi(this,"handleScroll",r=>{if(!r.target)return;const n=r.target;if(!this.tree.get(n))return;n.querySelectorAll(".js-fake-embed").forEach(o=>{const l=this.tree.get(o);l&&l.callback&&l.callback(n)})}),this.rootNode=t}addListener(t,r){var n;if(!((n=this.rootNode)!=null&&n.contains(t))||this.tree.has(t))return;let i=t;for(this.tree.set(i,{node:i,children:new Map,leaf:!0,callback:r});i&&i.parentElement;){const s=this.tree.get(i.parentElement);if(s){s.children.set(i,!0);break}this.tree.set(i.parentElement,{node:i.parentElement,children:new Map([[i,!0]])}),i.parentElement.addEventListener("scroll",this.handleScroll),i=i.parentElement}}removeListener(t){const r=this.tree.get(t);if(!r||!r.leaf)return;let n=t;for(;n;){const i=this.tree.get(n);if(!i)break;const s=n.parentElement?this.tree.get(n.parentElement):null;if(n!==this.rootNode&&!s||s&&!s.children.has(n)||(s&&(s==null||s.children.delete(n)),i.children.size!==0)||(n.removeEventListener("scroll",this.handleScroll),this.tree.delete(n),!s))break;n=s.node}}}a(Fa,"AncestorScrollDetector");const gi=(0,w.createContext)({}),Kd=a(({root:e,children:t})=>{const r=(0,w.useMemo)(()=>new Fa(e),[]);return(0,Y.jsx)(gi.Provider,{value:r,children:t})},"AncestorScrollDetectorProvider"),Qd=a(()=>(0,w.useContext)(gi),"useAncestorScrollDetector"),ja=(0,w.createContext)(null),Jd=a(({plugin:e,children:t})=>(0,Y.jsx)(ja.Provider,{value:e,children:t}),"PluginProvider"),at=a(()=>{const e=(0,w.useContext)(ja);if(!e)throw new Error("You must wrap any RemNote API hooks in a <PluginProvider/>");return e},"usePlugin"),Va=(0,w.createContext)(null),ef=a(({pluginRoot:e,children:t})=>(0,Y.jsx)(Va.Provider,{value:e,children:t}),"PluginRootProvider"),tf=a(()=>(0,w.useContext)(Va),"usePluginRootDivRef");function rf(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}a(rf,"mitt");const Vr=rf();var Br=(e=>(e.PluginBodyResizeOrTreeRenders="PluginBodyResizeOrTreeRenders",e))(Br||{});const nf=a((e,t)=>{(0,w.useEffect)(()=>(Vr.on(e,t),()=>Vr.off(e,t)),[e,t])},"useEvent");function sf(e){const t=w.useRef(e),r=w.useRef(0);return pi.isEqual(e,t.current)||(t.current=e,r.current+=1),w.useMemo(()=>t.current,[r.current])}a(sf,"useDeepCompareMemoize");function af(e,t){return w.useEffect(e,sf(t))}a(af,"useDeepCompareEffectNoCheck");var of=Object.defineProperty,lf=Object.defineProperties,uf=Object.getOwnPropertyDescriptors,Hr=Object.getOwnPropertySymbols,Ba=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Wa=a((e,t,r)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"FakeEmbed_defNormalProp"),We=a((e,t)=>{for(var r in t||(t={}))Ba.call(t,r)&&Wa(e,r,t[r]);if(Hr)for(var r of Hr(t))Ha.call(t,r)&&Wa(e,r,t[r]);return e},"FakeEmbed_spreadValues"),cf=a((e,t)=>lf(e,uf(t)),"FakeEmbed_spreadProps"),df=a((e,t)=>{var r={};for(var n in e)Ba.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Hr)for(var n of Hr(e))t.indexOf(n)<0&&Ha.call(e,n)&&(r[n]=e[n]);return r},"FakeEmbed_objRest"),ff=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"FakeEmbed_async");const hf=a(e=>typeof e=="string"&&/[0-9]{1,}%/.test(e)?parseInt(e.replace("%","")):void 0,"parsePercentage"),pf=a(e=>typeof e=="string"&&/[0-9]{1,}px/.test(e)?parseInt(e.replace("px","")):void 0,"parsePx"),Wr=a((e,t)=>{const r=hf(t),n=pf(t);return r?e*r/100:n||null},"dimensionToNumber"),mf=a(({maxWidth:e,maxHeight:t,width:r,height:n,constraintWidth:i,constraintHeight:s})=>{const o=typeof r=="string"&&r!=="auto"?Wr(i,r):r,l=typeof e=="string"?Wr(i,e):e,u=typeof n=="string"&&n!=="auto"?Wr(s,n):n,c=typeof t=="string"?Wr(s,t):t;return{width:o,maxWidth:l,height:u,maxHeight:c}},"calculateStyles");function gf(e){return e.clientHeight<e.scrollHeight}a(gf,"isVerticallyScrollable");function vf(e){return e.clientWidth<e.scrollWidth}a(vf,"isHorizontallScrollable");const yf=a(({componentType:e,externalProps:t,maxHeight:r=null,maxWidth:n=null,height:i="auto",width:s="auto",constraintRef:o="parent"})=>{var l,u,c,g,P,Oe;((u=(l=window==null?void 0:window.Env)==null?void 0:l.deploy)!=null&&u.isDevelopment||(g=(c=window==null?void 0:window.Env)==null?void 0:c.deploy)!=null&&g.isStaging||(Oe=(P=window==null?void 0:window.Env)==null?void 0:P.app)!=null&&Oe.isCypress)&&(console.error("You imported the wrong component!"),alert("You imported the wrong component!"));const I=(0,w.useRef)(null),V=at(),gt=tf(),Ae=(0,w.useRef)(),[Yt,sh]=(0,w.useState)(!1),Ei=Qd(),zr=(0,w.useRef)(),ot=(0,w.useRef)({height:i,width:s,maxHeight:r,maxWidth:n}),Rt=(0,w.useRef)(),yo=(0,w.useCallback)(W=>{!I.current||W.height===void 0||W.width===void 0||V.isNative||(I.current.style.height=W.height+"px",I.current.style.width=W.width+"px")},[]),_o=a(W=>{var X;W.type=="wheel"?ah(W):(X=I.current)==null||X.dispatchEvent(new Event(W.type,cf(We({},W),{bubbles:!0})))},"onDOMEvent"),ah=(0,w.useCallback)(W=>{if(!(!I.current||W.deltaY===void 0||W.deltaX===void 0)){if(W.deltaY){let X=I.current;for(;X&&!gf(X);)X=X.parentElement;X&&(X.scrollTop+=W.deltaY)}if(W.deltaX){let X=I.current;for(;X&&!vf(X);)X=X.parentElement;X&&(X.scrollLeft+=W.deltaX)}}},[]),wo=a(()=>{if(!Ae.current||!V)return;const W=zr.current?mf({constraintWidth:zr.current.constraintWidth,constraintHeight:zr.current.constraintHeight,height:ot.current.height,width:ot.current.width,maxHeight:ot.current.maxHeight,maxWidth:ot.current.maxWidth}):{height:ot.current.height,width:ot.current.width,maxHeight:ot.current.maxHeight,maxWidth:ot.current.maxWidth};V.updateFakeEmbedComponentRect(Ae.current,W)},"updateDimensions"),Eo=a(()=>{var W;if(!(V!=null&&V.inSandbox)||!I.current||!Ae.current)return;const{top:X,left:Tt}=I.current.getBoundingClientRect(),Ot=((W=gt==null?void 0:gt.current)==null?void 0:W.getBoundingClientRect())||{top:0,left:0},Xe=X-Ot.top,At=Tt-Ot.left;Rt.current&&(Rt==null?void 0:Rt.current.top)===Xe&&(Rt==null?void 0:Rt.current.left)===At||(Rt.current={left:At,top:Xe},V.updateFakeEmbedComponentRect(Ae.current,{top:Xe,left:At}))},"handleResizeOrScrollEvent");(0,w.useEffect)(()=>{if(V||console.error("You must wrap your components in a <PluginProvider/> or a renderWidget call."),!V||!I.current)return;xo();const W=gc();return ff(void 0,null,function*(){var X;const{top:Tt,left:Ot}=I.current.getBoundingClientRect();Rt.current={top:Tt,left:Ot};const Xe=((X=gt==null?void 0:gt.current)==null?void 0:X.getBoundingClientRect())||{top:0,left:0},At=Tt-Xe.top,xi=Ot-Xe.left;V.event.addListener(C.FakeEmbedComponentDimensionChange,W,yo),V.event.addListener(C.FakeEmbedDOMEvent,W,_o),V.isNative&&window.nativePluginDivs.set("virtual-"+W,I.current),yield V.createFakeEmbedComponent({id:W,type:e,top:At,left:xi,externalProps:t}),Ae.current=W,sh(!0)}),()=>{Ae.current&&(V.unmountFakeEmbedComponent(Ae.current),V.isNative&&window.nativePluginDivs.delete("virtual-"+W),V.event.removeListener(C.FakeEmbedComponentDimensionChange,Ae.current,yo),V.event.removeListener(C.FakeEmbedDOMEvent,Ae.current,_o))}},[]);function xo(){try{JSON.stringify(t)}catch(W){throw console.error("ExternalProps are not serializable.",t),new Error(`All props passed to a RemNote React Component must be JSON serializable. Check the devtools to see your props for your ${e} component.`)}}a(xo,"throwErrorIfExternalPropsAreNotSerializable");function oh(){xo(),Ae.current&&V.updateFakeEmbedExternalProps(Ae.current,t)}return a(oh,"updateExternalProps"),af(oh,[t]),(0,w.useEffect)(()=>{Yt&&(ot.current={maxHeight:r,maxWidth:n,height:i,width:s},wo())},[r,n,s,i,Yt]),(0,w.useEffect)(()=>{var W;if(V!=null&&V.inSandbox&&Ae.current&&Yt&&o){const X=o==="parent"?(W=I.current)==null?void 0:W.parentElement:o.current;if(!X)return;const Tt=new ResizeObserver(Ot=>{for(const Xe of Ot)if(Xe.contentBoxSize){const At=Xe.contentBoxSize[0].inlineSize,xi=Xe.contentBoxSize[0].blockSize;zr.current={constraintHeight:xi,constraintWidth:At},wo()}});return Tt.observe(X),()=>Tt.disconnect()}else return},[o,Yt]),nf(Br.PluginBodyResizeOrTreeRenders,Eo),(0,w.useLayoutEffect)(()=>{if(!(!Yt||!I.current||!Ei))return Ei.addListener(I.current,pi.debounce(Eo,10)),()=>{I.current&&Ei.removeListener(I.current)}},[Yt]),(0,w.useEffect)(()=>()=>{V&&Ae.current&&V.unmountFakeEmbedComponent(Ae.current)},[]),(0,Y.jsx)("div",{ref:I,className:"js-fake-embed"})},"FakeEmbedHost"),Ge=a(e=>{const t=e,{width:r,maxHeight:n,constraintRef:i,height:s,maxWidth:o,componentType:l}=t,u=df(t,["width","maxHeight","constraintRef","height","maxWidth","componentType"]);return(0,Y.jsx)(yf,{componentType:l,externalProps:u,width:r,height:s,maxHeight:n,maxWidth:o,constraintRef:i})},"FakeEmbedHostConcrete");class Ua extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.RichTextEditor},this.props))}}a(Ua,"RichTextEditor");class Za extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.RichText},this.props))}}a(Za,"RichText");class za extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.RemViewer},this.props))}}a(za,"RemViewer");class $a extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.PDFWebReader},this.props))}}a($a,"PDFWebReader");class qa extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.DocumentViewer},this.props))}}a(qa,"DocumentViewer");class Ga extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.RemRichTextEditor},this.props))}}a(Ga,"RemRichTextEditor");class Ya extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.RemHierarchyEditorTree},this.props))}}a(Ya,"RemHierarchyEditorTree");class Xa extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.Queue},this.props))}}a(Xa,"Queue");class Ka extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.LoadingSpinner},this.props))}}a(Ka,"LoadingSpinnerPlugin");class Qa extends w.Component{render(){return(0,Y.jsx)(Ge,We({componentType:Le.PreviewRemCards},this.props))}}a(Qa,"PreviewRemCards");function Ja(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Ja(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}a(Ja,"r");function _f(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Ja(e))&&(n&&(n+=" "),n+=t);return n}a(_f,"clsx");var wf=_f,Ef=te(318),eo=te.n(Ef),xf=Object.defineProperty,Sf=a((e,t,r)=>t in e?xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"PluginRenderer_defNormalProp"),to=a((e,t,r)=>(Sf(e,typeof t!="symbol"?t+"":t,r),r),"PluginRenderer_publicField"),ro=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"PluginRenderer_async");const Pf=a(({plugin:e,children:t})=>{const r=(0,w.useRef)(null);(0,w.useEffect)(()=>{if(!r.current||!e.inSandbox)return;const l=new ResizeObserver(()=>{r.current&&Vr.emit(Br.PluginBodyResizeOrTreeRenders)}),u=new MutationObserver(c=>{for(const g of c)(g.type==="attributes"||g.type==="childList")&&Vr.emit(Br.PluginBodyResizeOrTreeRenders)});return u.observe(r.current,{attributes:!0,childList:!0,subtree:!0}),l.observe(r.current),()=>{r.current&&(l.disconnect(),u.disconnect())}},[]);const n=e.inSandbox?{current:document.getElementsByTagName("html")[0]}:r,i=e.inSandbox?document.getElementsByTagName("html")[0]:e.mountDiv,s=e.inSandbox?Kd:bf,o=(0,Y.jsx)("div",{ref:r,className:wf("plugin rn-clr-content-primary font-inter",e.id==="demo-tabs"&&"fade-on-hide-ui"),"data-plugin-id":e.id,children:t});return(0,Y.jsx)(Jd,{plugin:e,children:(0,Y.jsx)(ef,{pluginRoot:n,children:(0,Y.jsx)(s,{root:i,children:o})})})},"PluginWrapper");function bf(e){return(0,Y.jsx)(gi.Provider,{value:null,children:e.children})}a(bf,"NoScrollDetector");class Ur extends Vn{constructor(t,r){super(),to(this,"initReact"),to(this,"onDeactivateReact"),this.initReact=t,this.onDeactivateReact=r}onActivate(t,r){return ro(this,null,function*(){this.initReact(this,t,r)})}onDeactivate(){return ro(this,null,function*(){this.onDeactivateReact(this)})}}a(Ur,"ReactRNPlugin");const no=a(e=>{const t=a(r=>{const n=a((s,o,l)=>eo().render((0,Y.jsxs)(w.StrictMode,{children:[(0,Y.jsx)(Pf,{plugin:s,children:(0,Y.jsx)(e,{})}),(0,Y.jsx)("link",{rel:"stylesheet",href:`${l}App.css`,as:"style",type:"text/css",crossOrigin:"anonymous"})]}),o),"initReact"),i=a(s=>{console.log("onDeactivateReact"),eo().unmountComponentAtNode(s.mountDiv)},"onDeactivateReact");return r?(window.__plugin?(console.log("[HMR] Hot reloading RemNote plugin widget."),i(window.__plugin),n(window.__plugin,window.__plugin.mountDiv,window.__plugin.rootURL)):window.__plugin=new Ur(n,i),window.__plugin):new Ur(n,i)},"makePlugin");try{const r=new URL(IMPORT_META.url).searchParams,n=r.get("widgetName"),i=r.get("pluginId");window.nativePluginRenderers.set(`${i}.${n}`,t)}catch(r){t(!0)}},"renderWidget");function Rf(e,t){function r(){const n=at();return(0,w.useEffect)(()=>(n&&e(n),()=>{n&&t(n)}),[n]),null}a(r,"IndexWidget"),no(r)}a(Rf,"declareIndexPlugin");function Tf(e){return vi(C.MessageBroadcast,void 0,e)}a(Tf,"useOnMessageBroadcast");function vi(e,t,r){const n=at();(0,w.useEffect)(()=>(n.event.addListener(e,t,r),()=>{n.event.removeListener(e,t,r)}),[e,t,r])}a(vi,"useAPIEventListener");var Of=Object.defineProperty,io=Object.getOwnPropertySymbols,Af=Object.prototype.hasOwnProperty,Cf=Object.prototype.propertyIsEnumerable,so=a((e,t,r)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"rem_hooks_defNormalProp"),Df=a((e,t)=>{for(var r in t||(t={}))Af.call(t,r)&&so(e,r,t[r]);if(io)for(var r of io(t))Cf.call(t,r)&&so(e,r,t[r]);return e},"rem_hooks_spreadValues"),Nf=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"rem_hooks_async");function ao(e,t){const r=new Set(t);return e.filter(n=>!r.has(n))}a(ao,"rem_hooks_difference");function kf(e){return e.filter(t=>t)}a(kf,"rem_hooks_compact");function If(e){const t=at(),r=kf(e||[]),[n,i]=(0,w.useState)({}),[s,o]=(0,w.useState)(r.map(P=>n[P])),l=a((P,Oe)=>{Oe&&i(I=>{const V=Df({},I);return V[P]=Oe,o(r.map(gt=>V[gt])),V})},"setRem"),u=a(P=>Nf(this,null,function*(){l(P,yield t.rem.findOne(P))}),"refetchRem"),c=(0,w.useRef)([]),g=(0,w.useRef)(new Map);return(0,w.useEffect)(()=>{const P=ao(r,c.current),Oe=ao(c.current,r);for(const I of P){const V=a(()=>u(I),"listener");g.current.set(I,V),t.event.addListener(C.RemChanged,I,V),u(I)}for(const I of Oe)t.event.removeListener(C.RemChanged,I,g.current.get(I));o(r.map(I=>n[I])),c.current=r},[r.length,...r]),(0,w.useEffect)(()=>()=>{for(const P of c.current)t.event.removeListener(C.RemChanged,P,g.current.get(P))},[]),s}a(If,"useGetRemsByIdsReactive");var oo=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"storage_hooks_async");function yi(e,t,r,n,i,s){const[o,l]=(0,w.useState)(s),u=a(()=>oo(this,null,function*(){t&&l((yield n(t))||s)}),"refetchValue");return(0,w.useEffect)(()=>{u()},[t]),vi(r,t,g=>{l(g)}),[o,a(g=>oo(this,null,function*(){yield i(t,g)}),"setValue")]}a(yi,"useStorageStateInternal");function Mf(e,t){const r=at();return yi(r,e,C.StorageSessionChange,r.storage.getSession,r.storage.setSession,t)}a(Mf,"useSessionStorageState");function Lf(e,t){const r=at();return yi(r,e,C.StorageLocalChange,r.storage.getLocal,r.storage.setLocal,t)}a(Lf,"useLocalStorageState");function Ff(e,t){const r=at();return yi(r,e,C.StorageSyncedChange,r.storage.getSynced,r.storage.setSynced,t)}a(Ff,"useSyncedStorageState");var lo=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"react_hooks_async");function jf(e,t){const[r,n]=(0,w.useState)(void 0);return(0,w.useEffect)(()=>{lo(this,null,function*(){return n(yield e())})},t),r}a(jf,"useRunAsync");function Vf(e,t){return lo(this,null,function*(){const r=[],n=yield Promise.all(e.map(i=>t(i)));for(const[i,s]of pi.zip(n,e))i&&r.push(s);return r})}a(Vf,"filterAsync");const Bf=["card","editor","focus","messaging","powerup","rem","richText","settings","storage","widget","window","search"],ie=a(e=>({event:C.RemChanged,key:typeof e=="string"?e:typeof e=="object"?e._id:void 0}),"remReactiveDep"),Ye=a(e=>({event:e,key:void 0}),"noKeyDep"),uo={allRemInDocumentOrPortal:{resultDeps:e=>e.map(ie)},deepRemsBeingReferenced:{resultDeps:e=>e.map(ie)},getAliases:{resultDeps:e=>e.map(ie)},getDescendants:{resultDeps:e=>e.map(ie)},getSources:{resultDeps:e=>e.map(ie)},getTagRems:{resultDeps:e=>e.map(ie)},getParentRem:{resultDeps:e=>[ie(e)]},getChildrenRem:{resultDeps:e=>e.map(ie)},getPortalDirectlyIncludedRem:{resultDeps:e=>e.map(ie)},portalsAndDocumentsIn:{resultDeps:e=>e.map(ie)},remsBeingReferenced:{resultDeps:e=>e.map(ie)},remsReferencingThis:{resultDeps:e=>e.map(ie)},siblingRem:{resultDeps:e=>e.map(ie)},taggedRem:{resultDeps:e=>e.map(ie)}},co={rem:{findByName:{resultDeps:e=>[ie(e)]},findOne:{argsDeps:e=>[ie(e[0])]},findMany:{argsDeps:e=>e[0].map(ie)},getAll:{resultDeps:e=>e.map(ie)}},powerup:{getPowerupSlotByCode:{resultDeps:e=>[ie(e)]},getPowerupByCode:{resultDeps:e=>[ie(e)]}},settings:{getSetting:{argsDeps:e=>[{event:C.SettingChanged,key:e[0]}]}},card:{},storage:{getLocal:{argsDeps:e=>[{event:C.StorageLocalChange,key:e[0]}]},getSession:{argsDeps:e=>[{event:C.StorageSessionChange,key:e[0]}]},getSynced:{argsDeps:e=>[{event:C.StorageSyncedChange,key:e[0]}]}},window:{getCurrentWindowTree:{argsDeps:()=>[Ye(C.CurrentWindowTreeChange)]},getFocusedPaneId:{argsDeps:()=>[Ye(C.FocusedPaneChange)]}},editor:{getFocusedEditorText:{argsDeps:()=>[Ye(C.FocusedRemChange),Ye(C.EditorTextEdited)]},getSelection:{argsDeps:()=>[Ye(C.EditorSelectionChanged)]},getSelectedRem:{argsDeps:()=>[Ye(C.EditorSelectionChanged)]},getSelectedText:{argsDeps:()=>[Ye(C.EditorSelectionChanged)]},getCaretPosition:{argsDeps:()=>[Ye(C.EditorSelectionChanged)]}},focus:{getFocusedRem:{argsDeps:()=>[Ye(C.FocusedRemChange)],resultDeps:e=>[ie(e)]},getFocusedPortal:{argsDeps:()=>[Ye(C.FocusedPortalChange)],resultDeps:e=>[ie(e)]}}};var Zr=a((e,t,r)=>new Promise((n,i)=>{var s=a(u=>{try{l(r.next(u))}catch(c){i(c)}},"fulfilled"),o=a(u=>{try{l(r.throw(u))}catch(c){i(c)}},"rejected"),l=a(u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o),"step");l((r=r.apply(e,t)).next())}),"useTracker_async");const qt=!1;function Hf(e){return Bf.includes(e)}a(Hf,"isNamespacedProp");const Wf=a((e,t)=>Array.isArray(e)&&e[0]instanceof $e?(qt&&console.log("wrapping result array in Rem proxy"),e.map(r=>ho(r,t))):e&&e instanceof $e?(qt&&console.log("wrapping result in Rem proxy"),ho(e,t)):e,"wrapResult"),fo=a((e,t,r,n)=>new Proxy(e,{apply:(i,s,o)=>Zr(void 0,null,function*(){const l=yield i.apply(s,o);return n(t,s,r,o,l),Wf(l,n)})}),"wrapFunctionCall");function ho(e,t){return new Proxy(e,{get(r,n){var i;return typeof r[n]=="function"&&((i=uo)!=null&&i[n])?fo(r[n],void 0,n,t):r[n]}})}a(ho,"interceptReactiveRemCalls");function Uf(e,t,r){return new Proxy(t,{get(n,i){var s,o;return typeof i=="string"&&typeof n[i]=="function"&&((o=(s=co)==null?void 0:s[e])!=null&&o[i])?fo(n[i],e,i,r):n[i]}})}a(Uf,"interceptReactiveAPICalls");function Zf(e,t){return new Proxy(e,{get(r,n){return Hf(n)?Uf(n,r[n],t):r[n]}})}a(Zf,"interceptAPINamespaceAccesses");function po(e){return new Set(e==null?void 0:e.map(({reactiveDeps:t})=>t.map(_i)).flat())}a(po,"subscriptionsToSubscriptionSet");function _i(e){const{event:t,key:r}=e;return`${t}.${r}`}a(_i,"reactiveDepToKey");const zf=a(e=>{const t=[];return{proxy:Zf(e,(n,i,s,o,l)=>{var u,c,g,P,Oe,I;const V=n?(c=(u=co)==null?void 0:u[n])==null?void 0:c[s]:(g=uo)==null?void 0:g[s],gt=[...((P=V.thisDeps)==null?void 0:P.call(V,i))||[],...((Oe=V.argsDeps)==null?void 0:Oe.call(V,o))||[],...((I=V.resultDeps)==null?void 0:I.call(V,l))||[]];t.push({methodName:s,args:o,reactiveDeps:gt})}),subscriptions:t}},"wrapApiWithListen"),wi=a((e,t,r,n,i)=>Zr(void 0,null,function*(){const s=zf(e);return yield a(()=>Zr(void 0,null,function*(){s.subscriptions.length;const l=yield t(s.proxy);qt&&console.log("useReactiveAPI result",l),n(l)}),"changeHandler")(),$f(e,r,i,s.subscriptions),s.subscriptions}),"createReactiveApi");function $f(e,t,r,n){const i=po(r||[]),s=po(n);r==null||r.forEach(({reactiveDeps:o})=>{for(const l of o)if(!s.has(_i(l))){const{event:u,key:c}=l;qt&&console.log("removeListener",u,c),e.event.removeListener(u,c,t)}}),n==null||n.forEach(({reactiveDeps:o})=>{for(const l of o)if(!i.has(_i(l))){const{event:u,key:c}=l;qt&&console.log("addListener",u,c),e.event.addListener(u,c,t)}})}a($f,"updateListeners");function qf(e,t=[]){const r=at(),[n,i]=As().useState(),s=(0,w.useRef)(!1),o=(0,w.useRef)(!1),l=(0,w.useRef)(),u=(0,w.useRef)(e);u.current=e;const c=a(()=>{qt&&console.log("useReactiveAPI RUN",s.current,o.current,l.current,t),s.current?o.current=!0:(s.current=!0,a(()=>Zr(this,null,function*(){l.current=yield wi(r,u.current,c,i,l.current||[]),s.current=!1,o.current&&(o.current=!1,c())}),"effect")())},"run");return As().useEffect(c,t),n}a(qf,"useTrackerPlugin");const Gf=/^[-_a-zA-Z0-9]+$/,Yf=d.nativeEnum(rn),yh=d.nativeEnum(tt),Gt=d.object({level:Yf}),Xf=d.object({type:d.literal(tt.KnowledgeBaseInfo)}).merge(Gt),Kf=d.object({type:d.literal(tt.All)}).merge(Gt),Qf=d.object({type:d.literal(tt.DescendantsOfName),remName:d.string()}).merge(Gt),Jf=d.object({type:d.literal(tt.DescendantsOfId),remId:d.string()}).merge(Gt),eh=d.object({type:d.literal(tt.Powerup),powerupCode:d.string()}).merge(Gt),th=d.object({type:d.literal(tt.FocusedSubtree)}).merge(Gt),rh=d.union([Kf,Qf,Jf,eh,th,Xf]),mo=d.object({major:d.number().gte(0),minor:d.number().gte(0),patch:d.number().gte(0)}),go=d.object({id:d.string().min(5).max(100).refine(e=>Gf.test(e),"Plugin ids may consist only of lowercase Latin letters a-z, A-Z, hyphens, underscores, and digits 0-9"),name:d.string().min(3).max(100),version:mo,manifestVersion:d.literal(1),requestNative:d.boolean(),requiredScopes:d.array(rh),repoUrl:d.string().url(),author:d.string().min(3).max(100),enableOnMobile:d.boolean(),theme:d.union([d.literal("dark"),d.literal("light")]).array().optional(),minimumRemNoteVersion:mo.optional(),description:d.string().max(200).optional(),projectUrl:d.string().url().optional(),supportUrl:d.string().url().optional(),changelogUrl:d.string().url().optional(),unlisted:d.boolean().optional()}),nh=go.merge(d.object({repoUrl:d.string().url().optional()})),_h=a(e=>`${e.field}: ${e.message}`,"formatValidationError"),vo=a(e=>{const t=e.errors,r=[];for(const n of t){const{code:i,message:s,path:o}=n,u={field:o.join(".")?o.join("."):"Root Object",message:`${s} (${i})`};"expected"in n&&(u.expected=n.expected),"received"in n&&(u.received=n.received),r.push(u)}return r},"prettifyZodErrors"),ih=a(e=>{const t=go.safeParse(e);return t.success?t:{success:!1,errors:vo(t.error)}},"parseManifest"),wh=a(e=>{const t=nh.safeParse(e);return t.success?t:{success:!1,errors:vo(t.error)}},"parseSnippetManifest")}(),Xt}()});
